exports.ids=[9],exports.modules={122:function(t,e){},183:function(t,e,_){"use strict";_.r(e);var v=_(122),r=_.n(v);for(var n in v)"default"!==n&&function(t){_.d(e,t,function(){return v[t]})}(n);e.default=r.a},184:function(t,e){},266:function(t,e,_){"use strict";var v=_(65),r=_.n(v),n=_(27),o={name:"MessageMenu",props:{slug:{type:String,required:!0}},data:()=>({menuWatcher:null,timeWatcher:null,friends:[]}),computed:{menu(){return this.$store.state.messageMenu.list}},mounted(){this.menuWatcher=this.$watch("$store.state.mailbox.unread_message_total",(t,e)=>{t>e&&!this.$store.state.socket.isConnected&&this.$store.dispatch("getMessageMenu")}),this.timeWatcher=this.$watch("$store.state.messageMenu.time",()=>{this.$store.dispatch("updateMessageMenu")}),this.$store.dispatch("updateMessageMenu"),this.menu.length&&this.$store.state.socket.isConnected||this.initChatRoom()},beforeDestroy(){this.menuWatcher&&this.menuWatcher(),this.timeWatcher&&this.timeWatcher()},methods:{async initChatRoom(){const t=r.a.service({target:this.$el});await this.getUserFriends(),await this.$store.dispatch("getMessageMenu"),t.close()},async getUserFriends(){const t=()=>{Object(n.getUserRelation)({$axios:this.$axios,slug:this.slug,relation:"friend"}).then(data=>{data.result.forEach(t=>this.$cache.setUserSessionStore(t)),this.friends=data.result,sessionStorage.setItem("user-friends-list",JSON.stringify(data.result))})};try{const e=sessionStorage.getItem("user-friends-list");if(!e)return void await t();const _=JSON.parse(e);_.forEach(t=>this.$cache.setUserSessionStore(t)),this.friends=_}catch(e){await t()}},deleteChannel(t){this.$axios.$post("v1/message/delete_channel",{channel:t.channel}).then(()=>{this.$store.commit("DELETE_MESSAGE_MENU",t.channel)}).catch(()=>{})},emitClick(t){this.$emit("open",t)}}},c=_(1);var component=Object(c.a)(o,function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ul",{staticClass:"message-menu"},t._l(t.menu,function(e){return t._ssrNode("<li>","</li>",[t._ssrNode('<div class="room-item clearfix">',"</div>",[e.user.avatar?_("VImg",{attrs:{src:e.user.avatar,width:"42",height:"42",radius:"50%",alt:e.user.nickname}}):t._e(),t._ssrNode(' <div class="content"><p class="nickname oneline">'+t._s(e.user.nickname)+'</p> <div class="footer">'+(e.count?'<div class="read-badge">'+t._ssrEscape(t._s(e.count))+"</div>":"\x3c!----\x3e")+"</div></div>")],2),t._ssrNode(' <div class="close">\n      ×\n    </div>')],2)}),0)},[],!1,function(t){var e=_(183);e.__inject__&&e.__inject__(t)},null,"04b91794");e.a=component.exports},289:function(t,e,_){"use strict";_.r(e);var v=_(184),r=_.n(v);for(var n in v)"default"!==n&&function(t){_.d(e,t,function(){return v[t]})}(n);e.default=r.a},394:function(t,e,_){"use strict";_.r(e);var v={name:"AppNotice",layout:"app",components:{MessageMenu:_(266).a},props:{},data:()=>({}),computed:{slug(){return this.$store.state.user.slug}},watch:{},created(){},mounted(){},methods:{}},r=_(1);var component=Object(r.a)(v,function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{attrs:{id:"app-notice"}},[_("VSwitcher",{attrs:{headers:["消息","聊天","通知"],align:"center",sticky:"","disabled-swipe":"",swipe:"","fixed-top":0,"anchor-padding":10}},[_("VScroller",{attrs:{slot:"0",throttle:-1},slot:"0"},[_("p",[t._v("start")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("消息")]),t._v(" "),_("p",[t._v("end")])]),t._v(" "),_("VScroller",{attrs:{slot:"1",throttle:-1},slot:"1"},[t.slug?_("MessageMenu",{attrs:{slug:t.slug}}):t._e()],1),t._v(" "),_("VScroller",{attrs:{slot:"2",throttle:-1},slot:"2"},[_("p",[t._v("start")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("通知")]),t._v(" "),_("p",[t._v("end")])])],1)],1)},[],!1,function(t){var e=_(289);e.__inject__&&e.__inject__(t)},null,"052a536c");e.default=component.exports}};
//# sourceMappingURL=b010cd240f64c243a63d.js.map