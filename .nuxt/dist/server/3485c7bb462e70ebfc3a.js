exports.ids=[8],exports.modules={119:function(t,e,n){t.exports=n.p+"img/9fd1565.png"},186:function(t,e){},272:function(t,e,n){"use strict";var c={name:"DailySignBtn",props:{value:{type:Object,required:!0}},data:()=>({loading:!1}),computed:{isMine(){return this.$store.getters.isMine(this.value.slug)}},methods:{handleSign(){this.$store.state.isAuth?this.isMine?this.loading||(this.value.daily_signed?this.$toast.info("今天已签过到"):(this.loading=!0,this.$axios.$post("v1/user/daily_sign").then(data=>{this.value.daily_signed=!0,this.$toast.success(data.message),this.loading=!1;try{this.value.sign.continuous_sign_count=data.continuous_sign_count,this.value.sign.latest_signed_at=data.sign_at,this.value.sign.total_sign_count++,this.$store.commit("UPDATE_USER_INFO",{key:"wallet_coin",value:this.$store.state.user.wallet_coin+1})}catch(t){}}).catch(t=>{this.$toast.error(t.message),this.loading=!1}))):this.$toast.info("不能替别人签到"):this.$channel.$emit("sign-in")}}},l=n(1);var component=Object(l.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("ElButton",{staticClass:"daily-sign-btn",attrs:{loading:this.loading},on:{click:this.handleSign}},[this._v("\n  "+this._s(this.value.daily_signed?"已签到":"未签到")+"\n")])}),[],!1,(function(t){}),null,"171f1cc3");e.a=component.exports},290:function(t,e,n){t.exports=n.p+"img/00ba3d9.png"},291:function(t,e,n){t.exports=n.p+"img/0a11aff.png"},292:function(t,e,n){t.exports=n.p+"img/c5e8c0a.png"},293:function(t,e,n){t.exports=n.p+"img/be03a89.png"},294:function(t,e,n){t.exports=n.p+"img/7a42efa.png"},295:function(t,e,n){t.exports=n.p+"img/7bef62a.png"},296:function(t,e,n){t.exports=n.p+"img/518c6b4.png"},297:function(t,e,n){"use strict";n.r(e);var c=n(186),l=n.n(c);for(var r in c)"default"!==r&&function(t){n.d(e,t,(function(){return c[t]}))}(r);e.default=l.a},381:function(t,e,n){"use strict";n.r(e);var c=n(3),l={name:"AppHome",layout:"app",components:{DailySignBtn:n(272).a},data:()=>({patch:{}}),computed:{self(){return{...this.$store.state.user,...this.patch}}},mounted(){this.$store.state.isAuth?this.patchUser():this.$channel.$when("user-signed",()=>{this.patchUser()})},methods:{handleLogout(){Object(c.f)(this),this.$cookie.remove("JWT-TOKEN"),this.$channel.socketDisconnect(),this.$store.commit("USER_LOGOUT"),this.$router.replace("/app/sign")},patchUser(){this.$axios.$get("v1/user/patch",{params:{slug:this.self.slug}}).then(data=>{this.patch=data}).catch(()=>{})}}},r=n(1);var component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{attrs:{id:"app-home"}},[t._ssrNode('<div class="panel">',"</div>",[c("NLink",{staticClass:"header",attrs:{to:"/app/user?slug="+t.self.slug}},[c("img",{staticClass:"avatar",attrs:{src:t.$resize(t.self.avatar,{width:130})}}),t._v(" "),c("img",{staticClass:"link",attrs:{src:n(119)}}),t._v(" "),c("div",{staticClass:"content"},[c("div",{staticClass:"nickname-wrap"},[c("div",{staticClass:"nickname"},[c("p",{staticClass:"oneline",domProps:{textContent:t._s(t.self.nickname)}})]),t._v(" "),c("div",{staticClass:"badge level"},[t._v("LV"+t._s(t.self.level))])]),t._v(" "),c("p",{staticClass:"intro"},[t._v("cc号："+t._s(t.self.slug))])])]),t._ssrNode(" "),t._ssrNode('<main class="main">',"</main>",[c("DailySignBtn",{model:{value:t.self,callback:function(e){t.self=e},expression:"self"}}),t._ssrNode(' <div class="meta"><div class="item"><p class="oneline">'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.self.stat_activity+t.self.stat_exposure)))+'</p> <span>战斗力</span></div> <div class="item"><p class="oneline">'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.self.wallet_coin)))+'</p> <span>团子</span></div> <div class="item"><p class="oneline">'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.self.wallet_money)))+"</p> <span>光玉</span></div></div>")],2)],2),t._ssrNode(' <div class="shim"></div> <div class="hr"></div> <div class="main-menu"><div class="item"><img'+t._ssrAttr("src",n(290))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(119))+'></div> <p class="text oneline">我的主页</p></div> <div class="item"><img'+t._ssrAttr("src",n(291))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(119))+'></div> <p class="text oneline">交易记录</p></div> <div class="item"><img'+t._ssrAttr("src",n(292))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(119))+'></div> <p class="text oneline">我的收藏</p></div> <div class="item"><img'+t._ssrAttr("src",n(293))+' class="icon"> <div class="tail"><span>邀请送团子</span> <img'+t._ssrAttr("src",n(119))+'></div> <p class="text oneline">我的邀请码</p></div> <div class="item"><img'+t._ssrAttr("src",n(294))+' class="icon"> <div class="tail"><span>玩转C站</span> <img'+t._ssrAttr("src",n(119))+'></div> <p class="text oneline">帮助</p></div> <div class="item"><img'+t._ssrAttr("src",n(295))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(119))+'></div> <p class="text oneline">意见反馈</p></div> <div class="item"><img'+t._ssrAttr("src",n(296))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(119))+'></div> <p class="text oneline">设置</p></div> <div class="logout-btn"><button>退出登录</button></div></div>')],2)}),[],!1,(function(t){var e=n(297);e.__inject__&&e.__inject__(t)}),null,"0f844751");e.default=component.exports}};