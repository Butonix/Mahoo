exports.ids=[18],exports.modules={102:function(e,t,n){"use strict";n.r(t);var r=n(49),o=n.n(r),c=(n(89),{name:"ChatAvatar",components:{UserAvatar:n(78).a},props:{item:{type:Object,required:!0}},computed:{isMine(){return this.$store.state.user.slug===this.item.slug}}}),l=n(1);var f=Object(l.a)(c,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"chat-avatar",class:[this.isMine?"chat-avatar-mine":"chat-avatar-other"]},[t("user-avatar",{attrs:{user:this.item,size:36}})],1)},[],!1,function(e){var t=n(90);t.__inject__&&t.__inject__(e)},null,"630a9f70").exports,d=n(20),m={name:"UserMessage",components:{ChatRoom:o.a},props:{},data:()=>({message:""}),computed:{avatarComp:()=>f},watch:{},created(){},mounted(){},methods:{handleAddBubble(){if(!this.message.trim())return;const e=this.$store.state.user,content=this.message.trim().replace(/\r?\n/g,"<br>");this.$refs.room.addMessage({type:"text-msg",float:"right",id:Math.random().toString(10).substring(3,6),color:2===e.sex?{bg:"#ff6881",text:"#fff"}:{bg:"#00a1d6",text:"#fff"},data:{content:content,created_at:Date.now(),user:e}}),this.message="",this.$channel.send({message_type:0,to_user_slug:"14u",from_user_token:Object(d.a)(),content:[{type:"txt",text:content}]})},handleNewLine(){this.message&&(this.message+="\n")}}};var v=Object(l.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"user-message"}},[n("el-row",[n("el-col",{attrs:{span:6}},[e._v("\n \n      ")]),e._v(" "),n("el-col",{attrs:{span:12}},[n("ChatRoom",{ref:"room",attrs:{"avatar-component":e.avatarComp}}),e._v(" "),n("div",[n("el-input",{attrs:{type:"textarea",rows:5,resize:"none",maxlength:"500",placeholder:"say it..."},nativeOn:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.handleAddBubble(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?(t.preventDefault(),e.handleNewLine(t)):null}]},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[e._v("\n \n      ")])],1)],1)},[],!1,function(e){var t=n(91);t.__inject__&&t.__inject__(e)},null,"1992ef02");t.default=v.exports},52:function(e,t){},61:function(e,t,n){"use strict";n.r(t);var r=n(52),o=n.n(r);for(var c in r)"default"!==c&&function(e){n.d(t,e,function(){return r[e]})}(c);t.default=o.a},66:function(e,t){},67:function(e,t){},78:function(e,t,n){"use strict";var r={name:"UserAvatar",props:{user:{type:Object,required:!0},avatar:{type:String,default:""},size:{type:Number,default:40}}},o=n(1);var component=Object(o.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nuxt-link",{staticClass:"user-avatar",style:{width:e.size+"px",height:e.size+"px"},attrs:{to:e.$alias.user(e.user.slug)}},[n("img",{staticClass:"avatar",attrs:{src:e.$resize(e.avatar||e.user.avatar,{width:e.size}),alt:e.user.nickname}})])},[],!1,function(e){var t=n(61);t.__inject__&&t.__inject__(e)},null,"8c0ebd70");t.a=component.exports},89:function(e,t){},90:function(e,t,n){"use strict";n.r(t);var r=n(66),o=n.n(r);for(var c in r)"default"!==c&&function(e){n.d(t,e,function(){return r[e]})}(c);t.default=o.a},91:function(e,t,n){"use strict";n.r(t);var r=n(67),o=n.n(r);for(var c in r)"default"!==c&&function(e){n.d(t,e,function(){return r[e]})}(c);t.default=o.a}};
//# sourceMappingURL=9eedfc21175f075cbb9d.js.map