exports.ids=[10],exports.modules={123:function(t,e){},124:function(t,e){},160:function(t,e,_){"use strict";_.r(e);var v=_(123),n=_.n(v);for(var o in v)"default"!==o&&function(t){_.d(e,t,function(){return v[t]})}(o);e.default=n.a},161:function(t,e,_){"use strict";_.r(e);var v=_(124),n=_.n(v);for(var o in v)"default"!==o&&function(t){_.d(e,t,function(){return v[t]})}(o);e.default=n.a},188:function(t,e,_){"use strict";_.r(e);var v=_(24);function n(t,e){const _=e?"scrollTop":"scrollLeft";let v=t[e?"pageYOffset":"pageXOffset"];return"number"!=typeof v&&(v=window.document.documentElement[_]),v}var o={name:"Affix",props:{top:{type:Number,default:0},bottom:{type:Number,default:void 0}},data:()=>({affix:!1,styles:{},slot:!1,slotStyle:{}}),computed:{offsetType(){let t="top";return this.bottom>=0&&(t="bottom"),t},classes(){return[{"v-affix":this.affix}]}},mounted(){this.$utils.on(window,"scroll",this.handleScroll),this.$utils.on(window,"resize",this.handleScroll),this.$nextTick(()=>{this.handleScroll()})},beforeDestroy(){this.$utils.off(window,"scroll",this.handleScroll),this.$utils.off(window,"resize",this.handleScroll)},methods:{handleScroll(){const t=this.affix,e=n(window,!0),_=function(element){const rect=element.getBoundingClientRect(),t=n(window,!0),e=n(window),_=window.document.body,v=_.clientTop||0,o=_.clientLeft||0;return{top:rect.top+t-v,left:rect.left+e-o}}(this.$el),v=window.innerHeight,o=this.$el.getElementsByTagName("div")[0].offsetHeight;_.top-this.top<e&&"top"===this.offsetType&&!t?(this.affix=!0,this.slotStyle={width:this.$refs.point.clientWidth+"px",height:this.$refs.point.clientHeight+"px"},this.slot=!0,this.styles={top:`${this.top}px`,left:`${_.left}px`,width:`${this.$el.offsetWidth}px`},this.$emit("on-change",!0)):_.top-this.top>e&&"top"===this.offsetType&&t&&(this.slot=!1,this.slotStyle={},this.affix=!1,this.styles=null,this.$emit("on-change",!1)),_.top+this.bottom+o>e+v&&"bottom"===this.offsetType&&!t?(this.affix=!0,this.styles={bottom:`${this.bottom}px`,left:`${_.left}px`,width:`${this.$el.offsetWidth}px`},this.$emit("on-change",!0)):_.top+this.bottom+o<e+v&&"bottom"===this.offsetType&&t&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1))}}},l=_(2);var r={name:"TagShow",components:{Affix:Object(l.a)(o,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._ssrNode("<div"+t._ssrClass(null,t.classes)+t._ssrStyle(null,t.styles,null)+">","</div>",[t._t("default")],2),t._ssrNode(" <div"+t._ssrStyle(null,t.slotStyle,{display:t.slot?"":"none"})+"></div>")],2)},[],!1,function(t){var e=_(160);e.__inject__&&e.__inject__(t)},null,"bae1a548").exports},head(){const{tag:t}=this;return{title:t.name,meta:[{hid:"keywords",name:"keywords",content:t.alias},{hid:"description",name:"description",content:`${t.name},${t.intro}`}]}},props:{slug:{type:String,required:!0}},data:()=>({tag:null,parent:null,children:[]}),computed:{},watch:{},asyncData:({app:t,error:e,params:_})=>v.e(t,{slug:_.slug}).then(data=>({...data})).catch(e),layout:"web",created(){},mounted(){},methods:{createTag(){this.$prompt("请输入标签名","创建标签",{confirmButtonText:"提交",cancelButtonText:"取消"}).then(({value:t})=>{const e=t.trim();if(e.length>32)return this.$toast.error("名字不能超过32个字");v.b(this,{name:e,parent_slug:this.slug}).then(data=>{this.children.push(data),this.$toast.success("标签创建成功")}).catch(t=>{this.$toast.error(t.message)})}).catch(()=>{})},combineTag(){console.log("combineTag")},deleteTag(){this.$confirm("此操作将永久删除该文件, 是否继续?","删除标签",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{v.c(this,{slug:this.slug}).then(()=>{this.$toast.success("标签删除成功").then(()=>{window.location.reload()})}).catch(t=>{this.$toast.error(t.message)})}).catch(()=>{})},relinkTag(){this.$prompt("请输入目标父节点id","移动标签",{confirmButtonText:"提交",cancelButtonText:"取消",inputPattern:/^[a-z0-9]+$/i,inputErrorMessage:"格式不正确"}).then(({value:t})=>{v.d(this,{slug:this.slug,target_slug:t}).then(()=>{this.$toast.success("标签移动成功")}).catch(t=>{this.$toast.error(t.message)})}).catch(()=>{})},updateTag(){this.$prompt("请输入标签名","更新标签",{confirmButtonText:"提交",cancelButtonText:"取消"}).then(({value:t})=>{const e=t.trim();if(e.length>32)return this.$toast.error("名字不能超过32个字");v.f(this,{name:e,slug:this.slug,avatar:""}).then(()=>{this.$toast.success("标签更新成功")}).catch(t=>{this.$toast.error(t.message)})}).catch(()=>{})}}};var c=Object(l.a)(r,function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{attrs:{id:"tag-show"}},[_("el-row",{staticClass:"container"},[_("el-col",{staticClass:"left-aside",attrs:{span:5}},[_("affix",{attrs:{top:50}},[t.parent?_("ul",{staticClass:"parent-node"},[_("li",{staticClass:"node"},[_("nuxt-link",{attrs:{to:"/tag/"+t.parent.slug}},[_("v-img",{attrs:{src:t.parent.avatar,width:"32",height:"32",alt:t.parent.name}}),t._v(" "),_("span",{domProps:{textContent:t._s(t.parent.name)}})],1)],1)]):t._e(),t._v(" "),t.children.length?_("ul",{staticClass:"child-node"},t._l(t.children.slice(0,10),function(e){return _("li",{key:e.slug,staticClass:"node"},[_("nuxt-link",{attrs:{to:"/tag/"+e.slug}},[_("v-img",{attrs:{src:e.avatar,width:"32",height:"32",alt:e.name}}),t._v(" "),_("span",{domProps:{textContent:t._s(e.name)}})],1)],1)}),0):t._e()])],1),t._v(" "),_("el-col",{staticClass:"main-wrap",attrs:{span:14}},[_("p",[t._v("当前标签")]),t._v("\n      "+t._s(t.tag.name)+"\n      "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")]),t._v(" "),_("p",[t._v("123")])]),t._v(" "),_("el-col",{attrs:{span:5}},[_("affix",{attrs:{top:50}},[_("div",[t._v("\n          当前标签活跃用户\n        ")]),t._v(" "),_("div",[_("button",{on:{click:t.createTag}},[t._v("\n            添加子标签\n          ")]),t._v(" "),_("button",{on:{click:t.combineTag}},[t._v("\n            合并标签\n          ")]),t._v(" "),_("button",{on:{click:t.deleteTag}},[t._v("\n            删除标签\n          ")]),t._v(" "),_("button",{on:{click:t.relinkTag}},[t._v("\n            修改父节点\n          ")]),t._v(" "),_("nuxt-link",{attrs:{to:t.$alias.tag(t.slug,"edit")}},[_("button",[t._v("\n              更新标签\n            ")])])],1)])],1)],1)],1)},[],!1,function(t){var e=_(161);e.__inject__&&e.__inject__(t)},null,"5d3bcdf8");e.default=c.exports}};
//# sourceMappingURL=f0697809ab0ef9c42987.js.map