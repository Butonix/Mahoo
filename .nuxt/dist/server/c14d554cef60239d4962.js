exports.ids=[16],exports.modules={100:function(t,e,n){t.exports=n.p+"img/3251725.png"},236:function(t,e){},237:function(t,e){},238:function(t,e){},239:function(t,e){},240:function(t,e){},241:function(t,e){},329:function(t,e,n){"use strict";n.r(e);var r=n(236),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},330:function(t,e,n){"use strict";n.r(e);var r=n(237),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},331:function(t,e,n){"use strict";n.r(e);var r=n(238),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},332:function(t,e,n){"use strict";n.r(e);var r=n(239),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},333:function(t,e,n){"use strict";n.r(e);var r=n(240),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},334:function(t,e,n){"use strict";n.r(e);var r=n(241),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},341:function(t,e,n){"use strict";n.r(e);var r={name:"PinPoster",props:{item:{type:Object,required:!0}},data:()=>({}),computed:{},watch:{},created(){},mounted(){},methods:{}},o=n(1);var l={name:"PinGridList",components:{PinPoster:Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"pin-poster"},[n("NLink",{staticClass:"poster",attrs:{target:"_blank",to:t.$alias.pin(t.item.slug)}},[t.item.media&&t.item.media.banner?n("VImg",{attrs:{src:t.item.media.banner.url,width:"160",height:"100"}}):n("VImg",{staticClass:"default-poster",attrs:{src:"default-poster",width:"160",height:"100"}}),t._v(" "),n("div",{staticClass:"mask"},[n("div",[n("i",{staticClass:"iconfont ic-good_fill"}),t._v(" "),n("span",{domProps:{textContent:t._s(t.item.like_count)}})]),t._v(" "),n("div",[n("i",{staticClass:"iconfont ic-mark_fill"}),t._v(" "),n("span",{domProps:{textContent:t._s(t.item.mark_count)}})]),t._v(" "),n("div",[n("i",{staticClass:"iconfont ic-reward_fill"}),t._v(" "),n("span",{domProps:{textContent:t._s(t.item.reward_count)}})]),t._v(" "),n("p",{staticClass:"author oneline",domProps:{innerHTML:t._s(t.item.author.nickname)}})])],1),t._ssrNode(" "),n("NLink",{staticClass:"user",attrs:{to:t.$alias.user(t.item.author.slug),target:"_blank"}},[n("VImg",{attrs:{src:t.item.author.avatar,width:"45",height:"45"}})],1),t._ssrNode(" "),t._ssrNode('<div class="text">',"</div>",[n("NLink",{staticClass:"title fade-link",attrs:{target:"_blank",to:t.$alias.pin(t.item.slug)},domProps:{innerHTML:t._s(t.item.title.text)}}),t._ssrNode(' <div class="mask"><div><i class="iconfont ic-browse_fill"></i> <span>'+t._ssrEscape(t._s(t.item.visit_count))+'</span></div> <div><i class="iconfont ic-message_fill"></i> <span>'+t._ssrEscape(t._s(t.item.comment_count))+"</span></div></div>")],2)],2)},[],!1,function(t){var e=n(329);e.__inject__&&e.__inject__(t)},null,"2d5a23d1").exports},props:{sort:{type:String,required:!0},slug:{type:String,required:!0}},methods:{initData(){this.$refs.loader&&this.$refs.loader.initData()},handlePatch({data:data}){this.$axios.$get("v1/pin/batch_patch",{params:{slug:data.result.map(t=>t.slug).join(",")}}).then(t=>{this.$refs.loader.patch(t)}).catch(()=>{})}}};var c=Object(o.a)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("FlowLoader",{ref:"loader",staticClass:"pin-grid-list",attrs:{func:"getTagFlows",type:"newest"===t.sort?"lastId":"seenIds",auto:0,query:{$axios:t.$axios,slug:t.slug,take:10,changing:"slug",time:"3-day",sort:t.sort},callback:t.handlePatch},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.flow;return r("ul",{},t._l(n,function(t){return r("PinPoster",{key:t.slug,attrs:{item:t}})}),1)}}])},[t._v(" "),r("template",{slot:"nothing"},[r("img",{attrs:{src:n(99)}}),t._v(" "),r("p",[t._v("这里什么都没有")])]),t._v(" "),r("template",{slot:"error"},[r("img",{attrs:{src:n(100)}}),t._v(" "),r("p",[t._v("遇到错误了，点击重试")])])],2)},[],!1,function(t){var e=n(330);e.__inject__&&e.__inject__(t)},null,"5e172508").exports,d={name:"PinRanker",props:{index:{type:Number,required:!0},item:{type:Object,required:!0},show:{type:Boolean,default:!1}}};var _={name:"PinRankList",components:{PinRanker:Object(o.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"pin-ranker",class:[t.show?"show":"hide"]},[t._ssrNode("<div"+t._ssrClass("rank",{highlight:t.index<3})+">"+t._ssrEscape(t._s(t.index+1))+"</div> "),n("NLink",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"content",attrs:{to:t.$alias.pin(t.item.slug),target:"_blank"}},[n("div",{staticClass:"poster"},[n("VImg",{attrs:{src:t.item.media&&t.item.media.banner?t.item.media.banner.url:"default-poster",width:"80",height:"50"}})],1),t._v(" "),n("div",{staticClass:"text"},[n("p",{domProps:{innerHTML:t._s(t.item.title.text)}}),t._v(" "),n("div",[t._v("综合评分："+t._s(+t.item.visit_count+2*t.item.comment_count+2*t.item.like_count+2*t.item.mark_count+5*t.item.reward_count))])])]),t._ssrNode(" "),n("NLink",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"content oneline",attrs:{to:t.$alias.pin(t.item.slug),target:"_blank"},domProps:{innerHTML:t._s(t.item.title.text)}})],2)},[],!1,function(t){var e=n(331);e.__inject__&&e.__inject__(t)},null,"16b0fe5d").exports},props:{slug:{type:String,required:!0},time:{type:String,required:!0},take:{type:Number,default:10}},data:()=>({defaultActive:0}),methods:{initData(){this.$refs.loader&&this.$refs.loader.initData()},handleMove(t){this.defaultActive=t}}};var m={name:"GridArea",components:{PinGridList:c,PinRankList:Object(o.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("FlowLoader",{ref:"loader",staticClass:"pin-rank-list",attrs:{func:"getTagFlows",type:"seenIds",auto:0,query:{$axios:t.$axios,slug:t.slug,take:t.take,changing:"slug",time:t.time,sort:"hottest"},"cache-timeout":3600},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.flow,o=e.count;return n("ul",{on:{mouseleave:function(e){t.defaultActive=0}}},[t._l(r,function(e,r){return n("PinRanker",{key:e.slug,attrs:{index:r,item:e,show:t.defaultActive===r},nativeOn:{mouseenter:function(e){return t.handleMove(r)}}})}),t._v(" "),o?n("NLink",{staticClass:"more",attrs:{to:t.$alias.tag(t.slug),target:"_blank"}},[n("span",[t._v("查看更多")]),t._v(" "),n("i",{staticClass:"el-icon-arrow-right"})]):t._e()],2)}}])})},[],!1,function(t){var e=n(332);e.__inject__&&e.__inject__(t)},null,"ba50c024").exports},props:{slug:{type:String,required:!0},name:{type:String,required:!0}},computed:{headers:()=>["有新动态","最新投稿"]},methods:{switchContent(t){1===t&&this.$refs.newest.initData()},switchRank(t){1===t&&this.$refs.rank7.initData()},handle(){this.$refs.rank3.initData(),this.$refs.active.initData()}}};var h={name:"Homepage",layout:"web",components:{GridArea:Object(o.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"lazyload",rawName:"v-lazyload:pc",value:t.handle,expression:"handle",arg:"pc"}],staticClass:"area-wrap grid-area"},[t._ssrNode('<div class="area-right">',"</div>",[n("VSwitcher",{attrs:{headers:["三日","一周"],"header-trigger":"hover",animated:!0},on:{change:t.switchRank}},[n("template",{slot:"header-before"},[t._v("\n        排行\n      ")]),t._v(" "),n("template",{slot:"0"},[n("PinRankList",{ref:"rank3",attrs:{slug:t.slug,time:"3-day",take:7}})],1),t._v(" "),n("template",{slot:"1"},[n("PinRankList",{ref:"rank7",attrs:{slug:t.slug,time:"7-day",take:7,auto:!1}})],1)],2)],1),t._ssrNode(" "),t._ssrNode('<div class="area-left">',"</div>",[n("VSwitcher",{attrs:{headers:t.headers},on:{change:t.switchContent}},[n("template",{slot:"header-before"},[n("NLink",{staticClass:"title fade-link",attrs:{to:t.$alias.tag(t.slug),target:"_blank"},domProps:{textContent:t._s(t.name)}})],1),t._v(" "),n("template",{slot:"header-after"},[n("NLink",{staticClass:"more",attrs:{to:t.$alias.tag(t.slug),target:"_blank"}},[n("span",[t._v("更多")]),t._v(" "),n("i",{staticClass:"el-icon-arrow-right"})])],1),t._v(" "),n("template",{slot:"0"},[n("PinGridList",{ref:"active",attrs:{slug:t.slug,sort:"active"}})],1),t._v(" "),n("template",{slot:"1"},[n("PinGridList",{ref:"newest",attrs:{slug:t.slug,sort:"newest",auto:!1}})],1)],2)],1)],2)},[],!1,function(t){var e=n(333);e.__inject__&&e.__inject__(t)},null,"363fdb35").exports,PinArticle:n(98).a},computed:{tags(){return this.$store.state.global.hottest_tags}},async asyncData({store:t}){await t.dispatch("global/getHottestTags")},methods:{handleTabSwitch(t){this.$refs.loader[t]&&this.$refs.loader[t].initData()},handlePatch({data:data}){this.$axios.$get("v1/pin/batch_patch",{params:{slug:data.result.map(t=>t.slug).join(",")}}).then(t=>{this.$refs.loader.patch(t)}).catch(()=>{})}}};var v=Object(o.a)(h,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"homepage"}},[t._ssrNode('<div class="only-pc container">',"</div>",[t._l(t.tags,function(t){return r(t.type+"-area",{key:t.slug,tag:"component",attrs:{name:t.name,slug:t.slug}})}),t._ssrNode(' <p class="beian">\n      互联网 ICP 备案：沪 ICP 备 17050785 号 - 1\n    </p>')],2),t._ssrNode(" "),t._ssrNode('<div class="only-h5">',"</div>",[t._ssrNode('<div class="main-content">',"</div>",[r("VSwitcher",{attrs:{headers:t.tags,"anchor-padding":5},on:{change:t.handleTabSwitch}},t._l(t.tags,function(e,o){return r("FlowLoader",{key:e.slug,ref:"loader",refInFor:!0,attrs:{slot:""+o,func:"getTagFlows",type:"seenIds",query:{$axios:t.$axios,slug:e.slug,take:10,changing:"slug",time:"3-day",sort:"active"},callback:t.handlePatch},slot:""+o,scopedSlots:t._u([{key:"default",fn:function(e){var n=e.flow;return r("ul",{staticClass:"pin-list"},t._l(n,function(t){return r("PinArticle",{key:t.slug,attrs:{item:t}})}),1)}}],null,!0)},[t._v(" "),r("template",{slot:"nothing"},[r("img",{attrs:{src:n(99)}}),t._v(" "),r("p",[t._v("这里什么都没有")])]),t._v(" "),r("template",{slot:"error"},[r("img",{attrs:{src:n(100)}}),t._v(" "),r("p",[t._v("遇到错误了，点击重试")])])],2)}),1)],1)])],2)},[],!1,function(t){var e=n(334);e.__inject__&&e.__inject__(t)},null,"32073284");e.default=v.exports},87:function(t,e){t.exports={"pin-article-pc-media":"pin-article-pc-media_EdOoY",pinArticlePcMedia:"pin-article-pc-media_EdOoY",desc:"desc_2dZ7I","pin-article-pc":"pin-article-pc_n9l6d",pinArticlePc:"pin-article-pc_n9l6d",title:"title_11AiS",badge:"badge_33AUe",link:"link_2zXb9",area:"area_1BjFz",media:"media_2oWmK",text:"text_2wAMb",music:"music_3Ur6b",video:"video_32S3V","pin-article-h5":"pin-article-h5_2Chnp",pinArticleH5:"pin-article-h5_2Chnp",user:"user_1ugeY",intro:"intro_3P9uJ","skeleton-loading":"skeleton-loading_LpB2j",skeletonLoading:"skeleton-loading_LpB2j",skeleton:"skeleton_3OUSt"}},90:function(t,e,n){"use strict";e.a={props:{item:{type:Object,required:!0},showUser:{type:Boolean,default:!0},showZone:{type:Boolean,default:!0},relationZone:{type:String,default:""},secretLink:{type:String,default:""}},computed:{showTopic(){return!(!this.showZone||!this.item.topic)&&this.item.topic.slug!==this.relationZone},showArea(){return!(!this.showZone||!this.item.area)&&this.item.area.slug!==this.relationZone}}}},94:function(t,e,n){"use strict";n.r(e);var r=n(87),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},98:function(t,e,n){"use strict";var r={name:"PinArticle",mixins:[n(90).a]},o=n(1);var component=Object(o.a)(r,function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("li",{class:e.$style["pin-article"]},[r("NLink",{staticClass:"only-h5",class:e.$style["pin-article-h5"],attrs:{to:e.$alias.pin(e.secretLink||e.item.slug)}},[e.item.media&&e.item.media.banner?r("header",{style:{paddingTop:e.item.media.banner.height/e.item.media.banner.width*100+"%"}},[r("img",{attrs:{src:e.$resize(e.item.media.banner.url,{width:400,mode:2})}})]):e._e(),e._v(" "),r("main",[r("div",{class:e.$style.user},[e.showUser?r("VImg",{attrs:{src:e.item.author.avatar,radius:"50%",width:"24",height:"24"}}):e._e(),e._v(" "),r("span",{domProps:{innerHTML:e._s(e.item.author.nickname)}})],1),e._v(" "),r("span",{class:e.$style.title,domProps:{innerHTML:e._s(e.item.title.text)}})]),e._v(" "),e.item.intro?r("footer",[r("p",{class:e.$style.intro,domProps:{innerHTML:e._s(e.item.intro)}})]):e._e()]),e._ssrNode(" "),e._ssrNode("<div"+e._ssrClass("only-pc",[e.$style["pin-article-pc"],(t={},t[e.$style["pin-article-pc-media"]]=e.item.media,t)])+">","</div>",[e._ssrNode("<h2"+e._ssrClass(null,e.$style.title)+">","</h2>",[e._ssrNode("<span"+e._ssrClass(null,e.$style.badge)+">"+e._ssrEscape(e._s(e.item.badge))+"</span> "),e.showZone?e._ssrNode("<div"+e._ssrClass(null,e.$style.area)+">","</div>",[e.item.area?r("NLink",{attrs:{to:e.$alias.tag(e.item.area.slug),target:"_blank"}},[r("VImg",{attrs:{src:e.item.area.avatar,width:"24",height:"24",radius:"5px"}})],1):e.item.topic?r("NLink",{attrs:{to:e.$alias.tag(e.item.topic.slug),target:"_blank"}},[r("VImg",{attrs:{src:e.item.topic.avatar,width:"24",height:"24",radius:"5px"}})],1):e._e()],1):e._e(),e._ssrNode(" "),e._ssrNode("<p"+e._ssrClass("oneline",e.$style.link)+">","</p>",[r("NLink",{staticClass:"fade-link oneline",attrs:{target:"_blank",to:e.$alias.pin(e.secretLink||e.item.slug)},domProps:{innerHTML:e._s(e.item.title.text)}})],1)],2),e._ssrNode(" "),e._ssrNode("<div"+e._ssrClass("clearfix",e.$style.content)+">","</div>",[e.item.media?r("NLink",{class:e.$style.media,attrs:{to:e.$alias.pin(e.secretLink||e.item.slug),target:"_blank"}},[e.item.media.first_video?r("div",{class:e.$style.video},[e.item.media.banner?r("VImg",{attrs:{src:e.item.media.banner.url,blur:!0,width:"187",height:"105"}}):e._e(),e._v(" "),r("i",{staticClass:"iconfont ic-bilibili",class:e.$style.badge})],1):e.item.media.first_music?r("div",{class:e.$style.music},[e.item.media.banner?r("VImg",{attrs:{src:e.item.media.banner.url,blur:!0,width:"187",height:"105"}}):e._e(),e._v(" "),r("i",{staticClass:"iconfont ic-netease",class:e.$style.badge})],1):r("VImg",{attrs:{src:e.item.media.banner.url,blur:!0,width:"187",height:"105"}}),e._v(" "),r("div",{class:e.$style.text},[r("i",{staticClass:"iconfont ic-video"}),e._v(" "),r("span",{domProps:{textContent:e._s(e.item.media.video_count)}}),e._v(" "),r("i",{staticClass:"iconfont ic-systemprompt"}),e._v(" "),r("span",{domProps:{textContent:e._s(e.item.media.music_count)}}),e._v(" "),r("i",{staticClass:"iconfont ic-camera"}),e._v(" "),r("span",{domProps:{textContent:e._s(e.item.media.image_count)}})])],1):e._e(),e._ssrNode(" "),e._ssrNode("<div"+e._ssrClass(null,e.$style.desc)+">","</div>",[e._ssrNode("<main><p>"+e._s(e.item.intro)+"</p></main> "),e._ssrNode("<footer>","</footer>",[e.showUser?r("NLink",{staticClass:"oneline",attrs:{to:e.$alias.user(e.item.author.slug),target:"_blank"}},[r("VImg",{attrs:{src:e.item.author.avatar,radius:"50%",width:"24",height:"24"}}),e._v("\n             \n            "),r("span",{domProps:{innerHTML:e._s(e.item.author.nickname)}})],1):e._e(),e._ssrNode(' <div><i class="iconfont ic-message_fill"></i> <span>'+e._ssrEscape(e._s(e.item.comment_count))+'</span></div> <div><i class="iconfont ic-good_fill"></i> <span>'+e._ssrEscape(e._s(e.item.like_count))+'</span></div> <div><i class="iconfont ic-mark_fill"></i> <span>'+e._ssrEscape(e._s(e.item.mark_count))+'</span></div> <div><i class="iconfont ic-browse_fill"></i> <span>'+e._ssrEscape(e._s(e.item.visit_count))+"</span></div>")],2)],2)],2)],2)],2)},[],!1,function(t){var e=n(94);e.__inject__&&e.__inject__(t),this.$style=e.locals||e},null,"4dd47fa2");e.a=component.exports},99:function(t,e,n){t.exports=n.p+"img/aa8b45a.png"}};
//# sourceMappingURL=c14d554cef60239d4962.js.map