exports.ids=[8],exports.modules={115:function(t,e,n){t.exports=n.p+"img/9fd1565.png"},166:function(t,e){},248:function(t,e,n){"use strict";var c={name:"DailySignBtn",props:{value:{type:Object,required:!0}},data:()=>({loading:!1}),computed:{isMine(){return this.$store.getters.isMine(this.value.slug)}},methods:{handleSign(){this.$store.state.isAuth?this.isMine?this.loading||(this.value.daily_signed?this.$toast.info("今天已签过到"):(this.loading=!0,this.$axios.$post("v1/user/daily_sign").then(data=>{try{this.value.daily_signed=!0,this.value.sign.continuous_sign_count=data.continuous_sign_count,this.value.sign.latest_signed_at=data.sign_at,this.value.sign.total_sign_count++,this.$toast.success(data.message),this.loading=!1,this.$store.commit("UPDATE_USER_INFO",{key:"wallet_coin",value:this.$store.state.user.wallet_coin+1})}catch(t){}}).catch(t=>{this.$toast.error(t.message),this.loading=!1}))):this.$toast.info("不能替别人签到"):this.$channel.$emit("sign-in")}}},l=n(1);var component=Object(l.a)(c,function(){var t=this.$createElement;return(this._self._c||t)("ElButton",{staticClass:"daily-sign-btn",attrs:{loading:this.loading},on:{click:this.handleSign}},[this._v("\n  "+this._s(this.value.daily_signed?"已签到":"未签到")+"\n")])},[],!1,function(t){},null,"171f1cc3");e.a=component.exports},270:function(t,e,n){t.exports=n.p+"img/00ba3d9.png"},271:function(t,e,n){t.exports=n.p+"img/0a11aff.png"},272:function(t,e,n){t.exports=n.p+"img/c5e8c0a.png"},273:function(t,e,n){t.exports=n.p+"img/be03a89.png"},274:function(t,e,n){t.exports=n.p+"img/7a42efa.png"},275:function(t,e,n){t.exports=n.p+"img/7bef62a.png"},276:function(t,e,n){t.exports=n.p+"img/518c6b4.png"},277:function(t,e,n){"use strict";n.r(e);var c=n(166),l=n.n(c);for(var r in c)"default"!==r&&function(t){n.d(e,t,function(){return c[t]})}(r);e.default=l.a},368:function(t,e,n){"use strict";n.r(e);var c=n(3),l={name:"AppHome",layout:"app",components:{DailySignBtn:n(248).a},data:()=>({patch:{}}),computed:{self(){return{...this.$store.state.user,...this.patch}}},mounted(){this.$store.state.isAuth?this.patchUser():this.$channel.$when("user-signed",()=>{this.patchUser()})},methods:{handleLogout(){Object(c.f)(this),this.$cookie.remove("JWT-TOKEN"),this.$channel.socketDisconnect(),this.$store.commit("USER_LOGOUT"),this.$router.replace("/app/sign")},patchUser(){this.$axios.$get("v1/user/patch",{params:{slug:this.self.slug}}).then(data=>{this.patch=data}).catch(()=>{})}}},r=n(1);var component=Object(r.a)(l,function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{attrs:{id:"app-home"}},[t._ssrNode('<div class="panel">',"</div>",[t._ssrNode("<header><img"+t._ssrAttr("src",t.$resize(t.self.avatar,{width:130}))+' class="avatar"> <img'+t._ssrAttr("src",n(115))+' class="link"> <div class="content"><div class="nickname-wrap"><div class="nickname"><p class="oneline">'+t._ssrEscape(t._s(t.self.nickname))+'</p></div> <div class="badge level">'+t._ssrEscape("LV"+t._s(t.self.level))+'</div></div> <p class="intro">'+t._ssrEscape("cc号："+t._s(t.self.slug))+"</p></div></header> "),t._ssrNode("<main>","</main>",[c("DailySignBtn",{model:{value:t.self,callback:function(e){t.self=e},expression:"self"}}),t._ssrNode(' <div class="meta"><div class="item"><p class="oneline">'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.self.stat_activity+t.self.stat_exposure)))+'</p> <span>战斗力</span></div> <div class="item"><p class="oneline">'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.self.wallet_coin)))+'</p> <span>团子</span></div> <div class="item"><p class="oneline">'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.self.wallet_money)))+"</p> <span>光玉</span></div></div>")],2)],2),t._ssrNode(' <div class="shim"></div> <div class="hr"></div> <div class="main-menu"><div class="item"><img'+t._ssrAttr("src",n(270))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(115))+'></div> <p class="text oneline">我的主页</p></div> <div class="item"><img'+t._ssrAttr("src",n(271))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(115))+'></div> <p class="text oneline">交易记录</p></div> <div class="item"><img'+t._ssrAttr("src",n(272))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(115))+'></div> <p class="text oneline">我的收藏</p></div> <div class="item"><img'+t._ssrAttr("src",n(273))+' class="icon"> <div class="tail"><span>邀请送团子</span> <img'+t._ssrAttr("src",n(115))+'></div> <p class="text oneline">我的邀请码</p></div> <div class="item"><img'+t._ssrAttr("src",n(274))+' class="icon"> <div class="tail"><span>玩转C站</span> <img'+t._ssrAttr("src",n(115))+'></div> <p class="text oneline">帮助</p></div> <div class="item"><img'+t._ssrAttr("src",n(275))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(115))+'></div> <p class="text oneline">意见反馈</p></div> <div class="item"><img'+t._ssrAttr("src",n(276))+' class="icon"> <div class="tail"><img'+t._ssrAttr("src",n(115))+'></div> <p class="text oneline">设置</p></div> <div class="logout-btn"><button>退出登录</button></div></div>')],2)},[],!1,function(t){var e=n(277);e.__inject__&&e.__inject__(t)},null,"0f844751");e.default=component.exports}};
//# sourceMappingURL=825c6eae67835eeb31a2.js.map