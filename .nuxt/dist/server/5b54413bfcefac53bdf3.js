exports.ids=[12],exports.modules={207:function(t,e){},280:function(t,e,n){"use strict";n.r(e);var r=n(207),l=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e.default=l.a},296:function(t,e,n){"use strict";n.r(e);var r=n(56),l=n.n(r),o=n(57),h=n.n(o),c=n(22);var m=n(88),f={name:"TagQA",layout:"web",components:{ElRadio:h.a,ElRadioGroup:l.a},mixins:[m.a],props:{slug:{type:String,required:!0}},data:()=>({tag:null,children:[],submitting:!1,title:"",answers:[{value:"",key:0},{value:"",key:1},{value:"",key:2},{value:"",key:3}],rightOpt:-1}),asyncData:({app:t,error:e,params:n})=>Object(c.d)(t,n).then(data=>data).catch(e),methods:{submit(){this.title.trim()?this.answers.map(t=>t.value).filter(t=>t).length<2?this.$toast.info("至少要有2个选项"):-1!==this.rightOpt?this.answers.filter(t=>t.key===this.rightOpt)[0].value.trim()?(this.submitting=!0,((t,{tag_slug:e,title:title,answers:n,right_index:r})=>t.$axios.$post("v1/atfield/create",{tag_slug:e,title:title,answers:n,right_index:r}))(this,{title:this.title,answers:this.answers.map(t=>t.value).filter(t=>t),right_index:this.rightOpt,tag_slug:this.slug}).then(()=>{this.$toast.success("提交成功").then(()=>{window.location.reload()})}).catch(t=>{this.$toast.error(t.message),this.submitting=!1})):this.$toast.info("正确选项不能为空"):this.$toast.info("请选择正确选项"):this.$toast.info("题目不能为空")}}},d=n(2);var component=Object(d.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tag-qa"}},[n("ElRow",[n("ElCol",{attrs:{span:12,offset:6}},[n("h1",[t._v("为《"+t._s(t.tag.name)+"》出题")]),t._v(" "),n("ElForm",{ref:"form",attrs:{disabled:t.submitting,"label-position":"right","label-width":"80px"}},[n("ElFormItem",{attrs:{label:"题目"}},[n("ElInput",{attrs:{rows:2,type:"textarea",placeholder:"请输入题目",resize:"none",maxlength:"50","show-word-limit":""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),n("ElFormItem",[n("p",{staticClass:"form-tip"},[t._v("\n            提示：选项至少提供两个，至多四个\n          ")])]),t._v(" "),t._l(t.answers,function(e,r){return n("ElFormItem",{key:e.key,attrs:{label:"选项"+(r+1)}},[n("ElInput",{attrs:{placeholder:"请输入答案（20字以内）",maxlength:"20"},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})],1)}),t._v(" "),n("ElFormItem",[n("p",{staticClass:"form-tip"},[t._v("\n            提示：题目为单选题，正确选项不能为空\n          ")])]),t._v(" "),n("ElFormItem",{attrs:{label:"答案"}},[n("ElRadioGroup",{model:{value:t.rightOpt,callback:function(e){t.rightOpt=e},expression:"rightOpt"}},t._l(t.answers,function(e,r){return n("ElRadio",{key:e.key,attrs:{label:e.key}},[t._v("\n              答案"+t._s(r+1)+"\n            ")])}),1)],1),t._v(" "),n("ElFormItem",[n("ElButton",{attrs:{loading:t.submitting,type:"success",round:""},on:{click:t.submit}},[t._v("\n            提交\n          ")])],1)],2)],1)],1)],1)},[],!1,function(t){var e=n(280);e.__inject__&&e.__inject__(t)},null,"1f614f64");e.default=component.exports},88:function(t,e,n){"use strict";e.a={beforeMount(){this.$channel.$when("user-not-sign",()=>{this.$toast.error("继续操作前请先登录").then(()=>{window.location.href=this.$alias.sign()})})}}}};
//# sourceMappingURL=5b54413bfcefac53bdf3.js.map