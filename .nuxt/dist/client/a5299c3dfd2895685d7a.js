(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{311:function(t,e,n){"use strict";n.d(e,"e",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"f",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return f}),n.d(e,"a",function(){return h});n(38);var o=function(t,e){var n=e.slug;return t.$axios.$get("v1/tag/show",{params:{slug:n}})},r=function(t,e){var n=e.name,o=e.parent_slug;return t.$axios.$post("v1/tag/create",{name:n,parent_slug:o})},l=function(t,e){var n=e.name,o=e.slug,r=e.avatar,l=e.alias,c=e.intro;return t.$axios.$post("v1/tag/update",{name:n,slug:o,avatar:r,alias:l,intro:c})},c=function(t,e){var n=e.slug,o=e.target_slug;return t.$axios.$post("v1/tag/relink",{slug:n,target_slug:o})},f=function(t,e){var n=e.slug;return t.$axios.$post("v1/tag/delete",{slug:n})},h=function(t,e){var n=e.slug;return t.$axios.$get("v1/tag/bookmarks",{params:{slug:n}})}},317:function(t,e,n){"use strict";n(30);var o=n(2),r=n(59);e.a={beforeMount:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$store.state.logging){t.next=4;break}e=this.$watch("$store.state.logging",function(){o.$store.state.isAuth?(o.userSigned&&o.userSigned(),e()):o.$toast.error("继续操作前请先登录").then(function(){window.location.href=o.$alias.sign()})}),t.next=10;break;case 4:return n=Object(r.a)(),this.$store.commit("SET_USER_TOKEN",n),t.next=8,this.$store.dispatch("initAuth");case 8:t.sent?this.userSigned&&this.userSigned():this.$toast.error("继续操作前请先登录").then(function(){window.location.href=o.$alias.sign()});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},318:function(t,e,n){},327:function(t,e,n){"use strict";var o=n(318);n.n(o).a},328:function(t,e,n){},378:function(t,e,n){"use strict";n(188);function o(t,e){var n=e?"scrollTop":"scrollLeft",o=t[e?"pageYOffset":"pageXOffset"];return"number"!=typeof o&&(o=window.document.documentElement[n]),o}var r={name:"Affix",props:{top:{type:Number,default:0},bottom:{type:Number,default:void 0}},data:function(){return{affix:!1,styles:{},slot:!1,slotStyle:{}}},computed:{offsetType:function(){var t="top";return this.bottom>=0&&(t="bottom"),t},classes:function(){return[{"v-affix":this.affix}]}},mounted:function(){var t=this;this.$utils.on(window,"scroll",this.handleScroll),this.$utils.on(window,"resize",this.handleScroll),this.$nextTick(function(){t.handleScroll()})},beforeDestroy:function(){this.$utils.off(window,"scroll",this.handleScroll),this.$utils.off(window,"resize",this.handleScroll)},methods:{handleScroll:function(){var t=this.affix,e=o(window,!0),n=function(element){var rect=element.getBoundingClientRect(),t=o(window,!0),e=o(window),n=window.document.body,r=n.clientTop||0,l=n.clientLeft||0;return{top:rect.top+t-r,left:rect.left+e-l}}(this.$el),r=window.innerHeight,l=this.$el.getElementsByTagName("div")[0].offsetHeight;n.top-this.top<e&&"top"===this.offsetType&&!t?(this.affix=!0,this.slotStyle={width:this.$refs.point.clientWidth+"px",height:this.$refs.point.clientHeight+"px"},this.slot=!0,this.styles={top:"".concat(this.top,"px"),left:"".concat(n.left,"px"),width:"".concat(this.$el.offsetWidth,"px")},this.$emit("on-change",!0)):n.top-this.top>e&&"top"===this.offsetType&&t&&(this.slot=!1,this.slotStyle={},this.affix=!1,this.styles=null,this.$emit("on-change",!1)),n.top+this.bottom+l>e+r&&"bottom"===this.offsetType&&!t?(this.affix=!0,this.styles={bottom:"".concat(this.bottom,"px"),left:"".concat(n.left,"px"),width:"".concat(this.$el.offsetWidth,"px")},this.$emit("on-change",!0)):n.top+this.bottom+l<e+r&&"bottom"===this.offsetType&&t&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1))}}},l=(n(327),n(18)),component=Object(l.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"point",class:this.classes,style:this.styles},[this._t("default")],2),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.slot,expression:"slot"}],style:this.slotStyle})])},[],!1,null,null,null);e.a=component.exports},390:function(t,e,n){"use strict";var o=n(328);n.n(o).a},473:function(t,e,n){"use strict";n.r(e);n(38),n(58),n(9),n(134);var o=n(317),r=n(311),l={name:"CreateLayout",layout:"web",components:{Affix:n(378).a},mixins:[o.a],data:function(){return{tags:[{label:"动漫",value:"bangumi",children:[]},{label:"游戏",value:"game",children:[]},{label:"话题",value:"topic",children:[]}]}},computed:{headers:function(){return[{route:"/create/daily",name:"图文帖",icon:"tee"},{route:"/create/cosplay",name:"cosplay",icon:"cosplay"},{route:"/create/atfield",name:"A.T.Field",icon:"timu"}]}},methods:{userSigned:function(){this.getUserBookmarkTags()},getUserBookmarkTags:function(){var t=this;Object(r.a)(this,{slug:this.$store.state.user.slug}).then(function(data){Object.keys(data).forEach(function(e){t.tags.forEach(function(t){t.value===e&&(t.children=data[e].map(function(t){return Object.assign(t,{value:t.slug,label:t.name})}))})})}).catch(function(){})}}},c=(n(390),n(18)),component=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"create-layout"}},[n("el-row",{staticClass:"container"},[n("el-col",{attrs:{span:4}},[n("affix",{attrs:{top:27}},[n("v-switcher",{attrs:{headers:t.headers,routable:!0,"header-height":44,align:"vertical"}},t._l(t.headers,function(e,o){return n("nuxt-link",{key:o,attrs:{slot:"tab-"+o,to:e.route},slot:"tab-"+o},[n("i",{staticClass:"iconfont",class:"ic-"+e.icon}),t._v(" "),n("span",{domProps:{textContent:t._s(e.name)}})])}),1)],1)],1),t._v(" "),n("el-col",{attrs:{span:15}},[n("nuxt-child",{staticClass:"main-section",attrs:{tags:t.tags}})],1),t._v(" "),n("el-col",{attrs:{span:5}},[t._v("\n       \n    ")])],1)],1)},[],!1,null,null,null);e.default=component.exports}}]);