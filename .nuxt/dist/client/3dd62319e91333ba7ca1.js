(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{248:function(n,t,e){"use strict";e.d(t,"b",function(){return o}),e.d(t,"a",function(){return r});e(28);var o=function(n,t){var e=t.slug;return n.$axios.get("v1/tag/show",{params:{slug:e}})},r=function(n,t){var e=t.name,o=t.parent_slug;return n.$axios.post("v1/tag/create",{name:e,parent_slug:o})}},352:function(n,t,e){"use strict";e.r(t);var o=e(13),r=e(248),c={name:"TagTree",components:{},props:{slug:{type:String,required:!0}},data:function(){return{tag:null,parent:null,children:[]}},computed:{},watch:{},asyncData:function(n){var t=n.app,e=n.error,c=n.params;return Object(r.b)(t,{slug:c.slug}).then(function(data){return Object(o.a)({},data)}).catch(e)},layout:"web",created:function(){},mounted:function(){},methods:{createTag:function(){var n=this;this.$prompt("请输入标签名","创建标签",{confirmButtonText:"提交",cancelButtonText:"取消"}).then(function(t){var e=t.value.trim();if(e.length>32)return n.$toast.error("名字不能超过32个字");Object(r.a)(n,{name:e,parent_slug:n.slug}).then(function(data){n.children.push(data),n.$toast.success("标签创建成功")}).catch(function(t){n.$toast.error(t.message)})}).catch(function(){})},combineTag:function(){console.log("combineTag")},removeTag:function(){console.log("removeTag")},redirectTag:function(){console.log("redirectTag")},updateTag:function(){console.log("updateTag")}}},l=e(20),component=Object(l.a)(c,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"tag-show"}},[e("el-row",{staticClass:"container"},[e("el-col",{attrs:{span:4}},[e("div",{staticClass:"panel"},[n.parent?[e("p",[n._v("父标签")]),n._v(" "),e("nuxt-link",{attrs:{to:"/tag/"+n.parent.slug}},[n._v("\n            "+n._s(n.parent.name)+"\n          ")])]:n._e(),n._v(" "),n.children.length?[e("p",[n._v("子标签")]),n._v(" "),n._l(n.children,function(t){return e("nuxt-link",{key:t.slug,attrs:{to:"/tag/"+t.slug}},[n._v("\n            "+n._s(t.name)+"\n          ")])})]:n._e()],2)]),n._v(" "),e("el-col",{attrs:{span:15}},[e("p",[n._v("当前标签")]),n._v("\n      "+n._s(n.tag.name)+"\n    ")]),n._v(" "),e("el-col",{attrs:{span:5}},[e("div",{staticClass:"panel"},[n._v("\n        当前标签活跃用户\n      ")]),n._v(" "),e("div",{staticClass:"panel"},[e("button",{on:{click:n.createTag}},[n._v("\n          添加子标签\n        ")]),n._v(" "),e("button",{on:{click:n.combineTag}},[n._v("\n          合并标签\n        ")]),n._v(" "),e("button",{on:{click:n.removeTag}},[n._v("\n          删除标签\n        ")]),n._v(" "),e("button",{on:{click:n.redirectTag}},[n._v("\n          重定向标签\n        ")]),n._v(" "),e("button",{on:{click:n.updateTag}},[n._v("\n          更新标签\n        ")])])])],1)],1)},[],!1,null,null,null);t.default=component.exports}}]);