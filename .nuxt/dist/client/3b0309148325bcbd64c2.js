(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{277:function(t,n,e){"use strict";var r=e(33),o=e(45),c=e(7),l=e(162),d=e(279);r(r.P+r.R,"Promise",{finally:function(t){var n=l(this,o.Promise||c.Promise),e="function"==typeof t;return this.then(e?function(e){return d(n,t()).then((function(){return e}))}:t,e?function(e){return d(n,t()).then((function(){throw e}))}:t)}})},279:function(t,n,e){var r=e(5),o=e(15),c=e(280);t.exports=function(t,n){if(r(t),o(n)&&n.constructor===t)return n;var e=c.f(t);return(0,e.resolve)(n),e.promise}},280:function(t,n,e){"use strict";var r=e(80);function o(t){var n,e;this.promise=new t((function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r})),this.resolve=r(n),this.reject=r(e)}t.exports.f=function(t){return new o(t)}},372:function(t,n,e){},511:function(t,n,e){"use strict";var r=e(372);e.n(r).a},619:function(t,n,e){"use strict";e.r(n);e(277);var r={name:"AdminQaTrial",layout:"app",data:()=>({loading:!1}),methods:{handleDelete(t){this.$confirm("删除后不可恢复，确认要删除吗？","提示").then(()=>{this.loading||(this.loading=!0,this.$axios.$post("v1/join/delete",{id:t}).then(()=>{this.$toast.success("删除成功"),this.$refs.loader.delete(t)}).catch(t=>{this.$toast.error(t.message)}).finally(()=>{this.loading=!1}))}).catch(()=>{})},handlePass(t){this.loading||(this.loading=!0,this.$axios.$post("v1/join/recommend",{id:t}).then(()=>{this.$toast.success("入库成功"),this.$refs.loader.delete(t)}).catch(t=>{this.$toast.error(t.message)}).finally(()=>{this.loading=!1}))}},head:{title:"审核题目"}},o=(e(511),e(9)),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"admin-qa-trial"}},[e("FlowLoader",{ref:"loader",attrs:{func:"getBangumiQuestionTrials",type:"page",query:{$axios:t.$axios}},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.flow;return e("div",{},t._l(r,(function(n){return e("div",{key:n.id,staticClass:"trial-item"},[e("p",{staticClass:"question",domProps:{innerHTML:t._s(n.title)}}),t._v(" "),e("ol",{staticClass:"answers"},t._l(n.answers,(function(n,r){return e("li",{key:r},[e("span",{domProps:{innerHTML:t._s(n)}})])})),0),t._v(" "),e("div",{staticClass:"controls"},[e("div",{staticClass:"intro"},[e("span",{domProps:{textContent:t._s(n.user.nickname)}}),t._v(" "),e("span",{domProps:{textContent:t._s(n.bangumi.name)}})]),t._v(" "),e("div",{staticClass:"btn"},[e("button",{on:{click:function(e){return t.handleDelete(n.id)}}},[t._v("拒绝")]),t._v(" "),e("button",{on:{click:function(e){return t.handlePass(n.id)}}},[t._v("通过")])])])])})),0)}},{key:"error",fn:function(n){var e=n.error;return[t._v("\n      "+t._s(e.message)+"\n    ")]}}])})],1)}),[],!1,null,null,null);n.default=component.exports}}]);