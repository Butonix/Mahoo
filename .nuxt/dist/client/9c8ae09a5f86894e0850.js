(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{384:function(n,t,e){},461:function(n,t,e){"use strict";var o=e(384);e.n(o).a},482:function(n,t,e){"use strict";e.r(t);var o=e(183),r=e(399),h=e(400),c=e(398),w={name:"SignDialog",components:{SignUpForm:h.a,SignInForm:r.a,ResetPasswordForm:c.a},data:function(){return{canRender:!1,showModal:!1,showSignIn:!1,showSignUp:!1,showReset:!1}},computed:{isGuest:function(){return!this.$store.state.isAuth}},mounted:function(){var n=this;this.canRender=!0,this.$channel.$on("sign-in",function(){n.showLogin()}),this.$channel.$on("sign-up",function(){n.showRegister()})},methods:{showLogin:function(){this.showReset=!1,this.showModal=!0,this.showSignIn=!0,this.showSignUp=!1},showRegister:function(){this.showModal=!0,this.showSignUp=!0,this.showSignIn=!1},hiddenSign:function(){this.showModal=!1,this.showSignIn=!1,this.showSignUp=!1,this.showReset=!1}}},l=(e(461),e(15)),d=Object(l.a)(w,function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.canRender?e("div",{staticClass:"sign-container"},[n.isGuest?e("div",{class:[n.showModal?"space-enter":"space-leave"],attrs:{id:"space3D"},on:{click:n.hiddenSign}},[e("div",{ref:"wrap",staticClass:"sign-modal-wrap"},[e("div",{staticClass:"sign-modal sign-in-modal",class:{"sign-in-init":!n.showSignIn&&!n.showSignUp,"sign-in-show":n.showSignIn&&!n.showSignUp,"sign-in-turn":!n.showSignIn&&n.showSignUp},on:{click:function(n){n.stopPropagation()}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:n.showReset,expression:"showReset"}],staticClass:"form-container"},[e("reset-password-form",{on:{"to-login":function(t){n.showReset=!1},"to-register":n.showRegister}})],1),n._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!n.showReset,expression:"!showReset"}],staticClass:"form-container"},[e("sign-in-form",{on:{"to-reset":function(t){n.showReset=!0},"to-register":n.showRegister}})],1)]),n._v(" "),e("div",{staticClass:"sign-modal sign-up-modal",class:{"sign-up-init":!n.showSignUp&&!n.showSignIn,"sign-up-show":n.showSignUp&&!n.showSignIn,"sign-up-turn":!n.showSignUp&&n.showSignIn},on:{click:function(n){n.stopPropagation()}}},[e("div",{staticClass:"slogan"}),n._v(" "),e("div",{staticClass:"form-container"},[e("sign-up-form",{on:{"to-login":n.showLogin}})],1)])])]):n._e()]):n._e()},[],!1,null,null,null).exports,f=(e(19),e(2)),m=e(59),v={beforeMount:function(){var n=Object(f.a)(regeneratorRuntime.mark(function n(){var t,e,o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.$store.state.logging){n.next=4;break}t=this.$watch("$store.state.logging",function(){o.$store.state.isAuth?(o.$channel.$fire("user-signed"),t()):o.$cookie.remove("JWT-TOKEN")}),n.next=10;break;case 4:return e=Object(m.a)(),this.$store.commit("SET_USER_TOKEN",e),n.next=8,this.$store.dispatch("initAuth");case 8:n.sent?this.$channel.$fire("user-signed"):this.$cookie.remove("JWT-TOKEN");case 10:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()},S={name:"WebLayout",components:{VHeader:o.a,SignDialog:d},mixins:[v]},R=Object(l.a)(S,function(){var n=this.$createElement,t=this._self._c||n;return t("div",{attrs:{id:"layout-web"}},[t("v-header"),this._v(" "),t("nuxt"),this._v(" "),t("sign-dialog")],1)},[],!1,null,null,null);t.default=R.exports}}]);