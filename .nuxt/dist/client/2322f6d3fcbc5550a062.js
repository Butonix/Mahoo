/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{299:function(t,e,o){"use strict";var n=o(4),r=o(20),l=o(29),c=o(185),h=o(86),d=o(12),f=o(85).f,m=o(129).f,v=o(13).f,y=o(303).trim,k=n.Number,T=k,w=k.prototype,S="Number"==l(o(128)(w)),P="trim"in String.prototype,E=function(t){var e=h(t,!1);if("string"==typeof e&&e.length>2){var o,n,r,l=(e=P?e.trim():y(e,3)).charCodeAt(0);if(43===l||45===l){if(88===(o=e.charCodeAt(2))||120===o)return NaN}else if(48===l){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var code,c=e.slice(2),i=0,d=c.length;i<d;i++)if((code=c.charCodeAt(i))<48||code>r)return NaN;return parseInt(c,n)}}return+e};if(!k(" 0o1")||!k("0b1")||k("+0x1")){k=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof k&&(S?d(function(){w.valueOf.call(o)}):"Number"!=l(o))?c(new T(E(e)),o,k):E(e)};for(var x,_=o(7)?f(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;_.length>C;C++)r(T,x=_[C])&&!r(k,x)&&v(k,x,m(T,x));k.prototype=w,w.constructor=k,o(14)(n,"Number",k)}},303:function(t,e,o){var n=o(10),r=o(28),l=o(12),c=o(304),h="["+c+"]",d=RegExp("^"+h+h+"*"),f=RegExp(h+h+"*$"),m=function(t,e,o){var r={},h=l(function(){return!!c[t]()||"​"!="​"[t]()}),d=r[t]=h?e(v):c[t];o&&(r[o]=d),n(n.P+n.F*h,"String",r)},v=m.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(f,"")),t};t.exports=m},304:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},393:function(t,e,o){t.exports=function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},o.p="/dist/",o(o.s=67)}({0:function(t,e,o){"use strict";function n(t,e,o,n,r,l,c,h){var d,f="function"==typeof t?t.options:t;if(e&&(f.render=e,f.staticRenderFns=o,f._compiled=!0),n&&(f.functional=!0),l&&(f._scopeId="data-v-"+l),c?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},f._ssrRegister=d):r&&(d=h?function(){r.call(this,this.$root.$options.shadowRoot)}:r),d)if(f.functional){f._injectStyles=d;var m=f.render;f.render=function(t,e){return d.call(e),m(t,e)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,d):[d]}return{exports:t,options:f}}o.d(e,"a",function(){return n})},16:function(t,e){t.exports=o(90)},2:function(t,e){t.exports=o(89)},40:function(t,e){t.exports=o(394)},67:function(t,e,o){"use strict";o.r(e);var n=o(7),r=o.n(n),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":t.handleAfterLeave}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[t.customClass,{"is-fullscreen":t.fullscreen}],style:{backgroundColor:t.background||""}},[o("div",{staticClass:"el-loading-spinner"},[t.spinner?o("i",{class:t.spinner}):o("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[o("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),t.text?o("p",{staticClass:"el-loading-text"},[t._v(t._s(t.text))]):t._e()])])])};l._withStripped=!0;var c={data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(text){this.text=text}}},h=o(0),component=Object(h.a)(c,l,[],!1,null,null,null);component.options.__file="packages/loading/src/loading.vue";var d=component.exports,f=o(2),m=o(16),v=o(40),y=o.n(v),k=r.a.extend(d),T={install:function(t){if(!t.prototype.$isServer){var e=function(e,n){n.value?t.nextTick(function(){n.modifiers.fullscreen?(e.originalPosition=Object(f.getStyle)(document.body,"position"),e.originalOverflow=Object(f.getStyle)(document.body,"overflow"),e.maskStyle.zIndex=m.PopupManager.nextZIndex(),Object(f.addClass)(e.mask,"is-fullscreen"),o(document.body,e,n)):(Object(f.removeClass)(e.mask,"is-fullscreen"),n.modifiers.body?(e.originalPosition=Object(f.getStyle)(document.body,"position"),["top","left"].forEach(function(t){var o="top"===t?"scrollTop":"scrollLeft";e.maskStyle[t]=e.getBoundingClientRect()[t]+document.body[o]+document.documentElement[o]-parseInt(Object(f.getStyle)(document.body,"margin-"+t),10)+"px"}),["height","width"].forEach(function(t){e.maskStyle[t]=e.getBoundingClientRect()[t]+"px"}),o(document.body,e,n)):(e.originalPosition=Object(f.getStyle)(e,"position"),o(e,e,n)))}):(y()(e.instance,function(t){if(e.instance.hiding){e.domVisible=!1;var o=n.modifiers.fullscreen||n.modifiers.body?document.body:e;Object(f.removeClass)(o,"el-loading-parent--relative"),Object(f.removeClass)(o,"el-loading-parent--hidden"),e.instance.hiding=!1}},300,!0),e.instance.visible=!1,e.instance.hiding=!0)},o=function(e,o,n){o.domVisible||"none"===Object(f.getStyle)(o,"display")||"hidden"===Object(f.getStyle)(o,"visibility")?o.domVisible&&!0===o.instance.hiding&&(o.instance.visible=!0,o.instance.hiding=!1):(Object.keys(o.maskStyle).forEach(function(t){o.mask.style[t]=o.maskStyle[t]}),"absolute"!==o.originalPosition&&"fixed"!==o.originalPosition&&Object(f.addClass)(e,"el-loading-parent--relative"),n.modifiers.fullscreen&&n.modifiers.lock&&Object(f.addClass)(e,"el-loading-parent--hidden"),o.domVisible=!0,e.appendChild(o.mask),t.nextTick(function(){o.instance.hiding?o.instance.$emit("after-leave"):o.instance.visible=!0}),o.domInserted=!0)};t.directive("loading",{bind:function(t,o,n){var r=t.getAttribute("element-loading-text"),l=t.getAttribute("element-loading-spinner"),c=t.getAttribute("element-loading-background"),h=t.getAttribute("element-loading-custom-class"),d=n.context,mask=new k({el:document.createElement("div"),data:{text:d&&d[r]||r,spinner:d&&d[l]||l,background:d&&d[c]||c,customClass:d&&d[h]||h,fullscreen:!!o.modifiers.fullscreen}});t.instance=mask,t.mask=mask.$el,t.maskStyle={},o.value&&e(t,o)},update:function(t,o){t.instance.setText(t.getAttribute("element-loading-text")),o.oldValue!==o.value&&e(t,o)},unbind:function(t,o){t.domInserted&&(t.mask&&t.mask.parentNode&&t.mask.parentNode.removeChild(t.mask),e(t,{value:!1,modifiers:o.modifiers})),t.instance&&t.instance.$destroy()}})}}},w=T,S=o(9),P=o.n(S),E=r.a.extend(d),x={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},_=void 0;E.prototype.originalPosition="",E.prototype.originalOverflow="",E.prototype.close=function(){var t=this;this.fullscreen&&(_=void 0),y()(this,function(e){var o=t.fullscreen||t.body?document.body:t.target;Object(f.removeClass)(o,"el-loading-parent--relative"),Object(f.removeClass)(o,"el-loading-parent--hidden"),t.$el&&t.$el.parentNode&&t.$el.parentNode.removeChild(t.$el),t.$destroy()},300),this.visible=!1};var C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.a.prototype.$isServer){if("string"==typeof(t=P()({},x,t)).target&&(t.target=document.querySelector(t.target)),t.target=t.target||document.body,t.target!==document.body?t.fullscreen=!1:t.body=!0,t.fullscreen&&_)return _;var e=t.body?document.body:t.target,o=new E({el:document.createElement("div"),data:t});return function(t,e,o){var n={};t.fullscreen?(o.originalPosition=Object(f.getStyle)(document.body,"position"),o.originalOverflow=Object(f.getStyle)(document.body,"overflow"),n.zIndex=m.PopupManager.nextZIndex()):t.body?(o.originalPosition=Object(f.getStyle)(document.body,"position"),["top","left"].forEach(function(e){var o="top"===e?"scrollTop":"scrollLeft";n[e]=t.target.getBoundingClientRect()[e]+document.body[o]+document.documentElement[o]+"px"}),["height","width"].forEach(function(e){n[e]=t.target.getBoundingClientRect()[e]+"px"})):o.originalPosition=Object(f.getStyle)(e,"position"),Object.keys(n).forEach(function(t){o.$el.style[t]=n[t]})}(t,e,o),"absolute"!==o.originalPosition&&"fixed"!==o.originalPosition&&Object(f.addClass)(e,"el-loading-parent--relative"),t.fullscreen&&t.lock&&Object(f.addClass)(e,"el-loading-parent--hidden"),e.appendChild(o.$el),r.a.nextTick(function(){o.visible=!0}),t.fullscreen&&(_=o),o}};e.default={install:function(t){t.use(w),t.prototype.$loading=C},directive:w,service:C}},7:function(t,e){t.exports=o(0)},9:function(t,e){t.exports=o(41)}})},394:function(t,e,o){"use strict";e.__esModule=!0,e.default=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!e)throw new Error("instance & callback is required");var r=!1,l=function(){r||(r=!0,e&&e.apply(null,arguments))};n?t.$once("after-leave",l):t.$on("after-leave",l),setTimeout(function(){l()},o+100)}},396:function(t,e,o){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="fb15")}({5870:function(t,e,o){},"7f7f":function(t,e,o){"use strict";var n=o("5870"),s=o.n(n);s.a},9520:function(t,e,o){"use strict";var n=o("da2c"),s=o.n(n);s.a},da2c:function(t,e,o){},f6fd:function(t,e){!function(t){var e="currentScript",o=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(n){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(t in o)if(o[t].src==e||"interactive"==o[t].readyState)return o[t];return null}}})}(document)},fb15:function(t,e,o){"use strict";var n;o.r(e),"undefined"!=typeof window&&(o("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(o.p=n[1]));var r={name:"LoadingMsg"};function l(t,e,o,n,s,i,r,a){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=o,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):s&&(l=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:u}}o("7f7f");var p=l(r,function(){var t=this;return t.$createElement,t._self._c,t._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-msg"},[e("i",{staticClass:"dot"}),e("i",{staticClass:"dot"}),e("i",{staticClass:"dot"})])}],!1,null,null,null),c=p.exports,g={name:"MsgBubble",components:{LoadingMsg:c},props:{color:{type:Object,required:!0},float:{type:String,required:!0,validator:function(t){return~["left","right"].indexOf(t)}},loading:{type:Boolean,required:!0},status:{type:String,required:!0}},computed:{wrapperStyle:function(){return{backgroundColor:this.color.bg,color:this.color.text}}}},h=g,d=(o("9520"),l(h,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"msg-box",class:"msg-box-"+t.float},[o("div",{staticClass:"msg-avatar"},[t._t("avatar")],2),o("div",{staticClass:"msg-body"},[t._t("header"),o("div",{staticClass:"msg-bubble",style:t.wrapperStyle},[t.loading?t._t("loading",[o("loading-msg")]):t._e(),o("span",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._t("default"),t.status?o("i",{staticClass:"msg-status",class:"msg-status-"+t.status}):t._e()],2)],2),t._t("footer")],2)])},[],!1,null,null,null)),f=d.exports,m={name:"TextMsg",props:{item:{type:Object,required:!0}}},v=m,y=l(v,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"text-msg",domProps:{textContent:t._s(t.item.content)}})},[],!1,null,null,null),k=y.exports,T={name:"ChatRoom",components:{Bubble:f},props:{avatarComponent:{type:Object,default:null},loadingComponent:{type:Object,default:null},messageComponents:{type:Object,default:function(){}},widgetComponents:{type:Object,default:function(){}},headerComponents:{type:Object,default:function(){}},footerComponents:{type:Object,default:function(){}},colors:{type:Array,default:function(){return[{bg:"#12b7f5",text:"#fff"},{bg:"#ff8eb3",text:"#fff"}]}}},data:function(){return{list:[],last_pending_id:0,resolver:null}},computed:{msgTypes:function(){return Object.assign({"text-msg":k},this.messageComponents)}},methods:{clearMessage:function(){this.list=[],this.last_pending_id=0,this.resolver=null},addMessage:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=t.type||"text-msg",n=t.id||Math.random().toString(10).substring(3,6),s=t.footer||"",i=t.header||"",r=t.loading||!1,a=t.pending||!1,l={id:n,isBubble:!0,message:this.msgTypes[o],header:i?this.headerComponents[i]:null,footer:s?this.footerComponents[s]:null,float:t.float||"left",color:this._computeBubbleColor(t),loading:r,status:t.status||"",item:t.data,next:null};e?this.list.push(l):this.list.unshift(l),r||a||this._handleResolve(t.data),a&&(this.last_pending_id=n,this._setResolve())},addWidget:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=t.type||"divide-line",n=t.id||Math.random().toString(10).substring(3,6),s={id:n,isBubble:!1,message:this.widgetComponents[o],item:t.data};e?this.list.push(s):this.list.unshift(s)},updateMessage:function(t,e){for(var o=this,n=function(n){if(o.list[n].id===t)return Object.keys(e).forEach(function(t){o.list[n][t]=e[t]}),"break"},s=this.list.length-1;s>=0;s--){var i=n(s);if("break"===i)break}},_setResolve:function(){var t=this;setTimeout(function(){t.last_pending_id&&t.list.forEach(function(e,o){e.id===t.last_pending_id&&(t.list[o].next=new Promise(function(e){t.resolver=e}))})},0)},_handleResolve:function(t){this.last_pending_id&&(this.resolver(t),this._setResolve())},_handleMsgLoaded:function(t){this.list[t].loading=!1,this.list[t].next||this._handleResolve(this.list[t].item)},_handleMsgResolve:function(t){this.last_pending_id===t&&(this.last_pending_id=0,this.resolver=null)},_computeBubbleColor:function(t){return t.color?t.color:t.data&&t.data.user&&t.data.user.id?this.colors[t.data.user.id%this.colors.length]:this.colors[t.id%this.colors.length]}}},w=T,S=l(w,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"chat-room"},[t._l(t.list,function(e,n){return[e.isBubble?o("Bubble",{key:n+"-"+e.id,attrs:{color:e.color,status:e.status,loading:e.loading,float:e.float}},[t.avatarComponent&&e.item.user?o(t.avatarComponent,{tag:"component",attrs:{slot:"avatar",item:e.item.user},slot:"avatar"}):t._e(),e.header&&e.item.user?o(e.header,{tag:"component",attrs:{slot:"header",item:e.item.user},slot:"header"}):t._e(),t.loadingComponent?o(t.loadingComponent,{tag:"component",attrs:{slot:"loading"},slot:"loading"}):t._e(),o(e.message,{key:e.id,tag:"component",attrs:{item:e.item,next:e.next},on:{loaded:function(e){return t._handleMsgLoaded(n)},resolve:function(o){return t._handleMsgResolve(e.id)}}}),e.footer?o(e.footer,{tag:"component",attrs:{slot:"footer",item:e.item},slot:"footer"}):t._e()],1):o(e.message,{key:e.id,tag:"component",attrs:{item:e.item}})]})],2)},[],!1,null,null,null),P=S.exports;e.default=P}}).default},397:function(t,e,o){},405:function(t,e,o){"use strict";var n=function(t,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function r(t,b){function e(){this.constructor=t}n(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var l=function(){return(l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function c(t){console.error("[BScroll warn]: "+t)}var h="undefined"!=typeof window,d=h&&navigator.userAgent.toLowerCase(),f=d&&/wechatdevtools/.test(d),m=d&&d.indexOf("android")>0;function v(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function y(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var i=0;i<e.length;i++){var source=e[i];for(var n in source)t[n]=source[n]}return t}function k(t){return null==t}var T=h&&document.createElement("div").style,w=function(){if(!h)return!1;var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==T[t[e]])return e;return!1}();function S(style){return!1===w?style:"standard"===w?"transitionEnd"===style?"transitionend":style:w+style.charAt(0).toUpperCase()+style.substr(1)}function P(t){return"string"==typeof t?document.querySelector(t):t}function E(t,e,o,n){t.addEventListener(e,o,{passive:!1,capture:!!n})}function x(t,e,o,n){t.removeEventListener(e,o,{capture:!!n})}function _(t){for(var e=0,o=0;t;)e-=t.offsetLeft,o-=t.offsetTop,t=t.offsetParent;return{left:e,top:o}}w&&"standard"!==w&&w.toLowerCase();var C=S("transform"),O=S("transition"),M=h&&S("perspective")in T,D=h&&("ontouchstart"in window||f),B=h&&O in T,style={transform:C,transition:O,transitionTimingFunction:S("transitionTimingFunction"),transitionDuration:S("transitionDuration"),transitionDelay:S("transitionDelay"),transformOrigin:S("transformOrigin"),transitionEnd:S("transitionEnd")},X={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2};function Y(t){if(t instanceof window.SVGElement){var rect=t.getBoundingClientRect();return{top:rect.top,left:rect.left,width:rect.width,height:rect.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function j(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1}function L(t,e){var o;void 0===e&&(e="click"),"mouseup"===t.type?o=t:"touchend"!==t.type&&"touchcancel"!==t.type||(o=t.changedTouches[0]);var n,r={};o&&(r.screenX=o.screenX||0,r.screenY=o.screenY||0,r.clientX=o.clientX||0,r.clientY=o.clientY||0);var l=!0,c=!0;if("undefined"!=typeof MouseEvent)try{n=new MouseEvent(e,y({bubbles:l,cancelable:c},r))}catch(t){h()}else h();function h(){(n=document.createEvent("Event")).initEvent(e,l,c),y(n,r)}n.forwardedTouchEvent=!0,n._constructed=!0,t.target.dispatchEvent(n)}var N={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}},A=h&&window;function R(){}var F=h?A.requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame||A.oRequestAnimationFrame||function(t){return window.setTimeout(t,(t.interval||100/60)/2)}:R,H=h?A.cancelAnimationFrame||A.webkitCancelAnimationFrame||A.mozCancelAnimationFrame||A.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:R,z=function(t){},I={enumerable:!0,configurable:!0,get:z,set:z},$=function(t,e){for(var o=e.split("."),i=0;i<o.length-1;i++)if("object"!=typeof(t=t[o[i]])||!t)return;var n=o.pop();return"function"==typeof t[n]?function(){return t[n].apply(t,arguments)}:t[n]},V=function(t,e,o){for(var n,r=e.split("."),i=0;i<r.length-1;i++)t[n=r[i]]||(t[n]={}),t=t[n];t[r.pop()]=o};var W,K,U,Z,G,J,Q=function(){function t(t){this.events={},this.eventTypes={},this.registerType(t)}return t.prototype.on=function(t,e,o){return void 0===o&&(o=this),this._checkInTypes(t),this.events[t]||(this.events[t]=[]),this.events[t].push([e,o]),this},t.prototype.once=function(t,e,o){var n=this;void 0===o&&(o=this),this._checkInTypes(t);var r=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];n.off(t,r),e.apply(o,l)};return r.fn=e,this.on(t,r),this},t.prototype.off=function(t,e){if(!t&&!e)return this.events={},this;if(t){if(this._checkInTypes(t),!e)return this.events[t]=[],this;var o=this.events[t];if(!o)return this;for(var n=o.length;n--;)(o[n][0]===e||o[n][0]&&o[n][0].fn===e)&&o.splice(n,1);return this}},t.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this._checkInTypes(t);var n=this.events[t];if(n){for(var r,l=n.length,c=n.slice(),i=0;i<l;i++){var h=c[i],d=h[0],f=h[1];if(d&&!0===(r=d.apply(f,e)))break}return r}},t.prototype.registerType=function(t){var e=this;t.forEach(function(t){e.eventTypes[t]=t})},t.prototype.destroy=function(){this.events={},this.eventTypes={}},t.prototype._checkInTypes=function(t){var e=this.eventTypes;e[t]===t||c('EventEmitter has used unknown event type: "'+t+'", should be oneof ['+Object.keys(e)+"]")},t}();!function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative",t[t.Default=0]="Default"}(W||(W={})),function(t){t.Default="",t.Horizontal="horizontal",t.Vertical="vertical",t.None="none"}(K||(K={})),function(t){t.None="",t.Horizontal="horizontal",t.Vertical="vertical"}(U||(U={})),function(t){t[t.Touch=1]="Touch",t[t.Mouse=2]="Mouse"}(Z||(Z={})),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right"}(G||(G={})),function(t){t[t.Default=0]="Default",t[t.Throttle=1]="Throttle",t[t.Normal=2]="Normal",t[t.Realtime=3]="Realtime"}(J||(J={}));var tt=function(){function t(){this.startX=0,this.startY=0,this.scrollX=!1,this.scrollY=!0,this.freeScroll=!1,this.directionLockThreshold=5,this.eventPassthrough=U.None,this.click=!1,this.dblclick=!1,this.tap="",this.bounce={top:!0,bottom:!0,left:!0,right:!0},this.bounceTime=800,this.momentum=!0,this.momentumLimitTime=300,this.momentumLimitDistance=15,this.swipeTime=2500,this.swipeBounceTime=500,this.deceleration=.0015,this.flickLimitTime=200,this.flickLimitDistance=100,this.resizePolling=60,this.probeType=J.Default,this.stopPropagation=!1,this.preventDefault=!0,this.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},this.HWCompositing=!0,this.useTransition=!0,this.bindToWrapper=!1,this.disableMouse=D,this.autoBlur=!0}return t.prototype.merge=function(t){if(!t)return this;for(var e in t)this[e]=t[e];return this},t.prototype.process=function(){return this.translateZ=this.HWCompositing&&M?" translateZ(0)":"",this.useTransition=this.useTransition&&B,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX=this.eventPassthrough!==U.Horizontal&&this.scrollX,this.scrollY=this.eventPassthrough!==U.Vertical&&this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=!!this.freeScroll||this.scrollX,this.scrollY=!!this.freeScroll||this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},t}(),et=function(){function t(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return t.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},t.prototype.addDOMEvents=function(){this.handleDOMEvents(E)},t.prototype.removeDOMEvents=function(){this.handleDOMEvents(x)},t.prototype.handleDOMEvents=function(t){var e=this,o=this.wrapper;this.events.forEach(function(n){t(o,n.name,e,!!n.capture)})},t.prototype.handleEvent=function(t){var e=t.type;this.events.some(function(o){return o.name===e&&(o.handler(t),!0)})},t}(),ot=function(){function t(t,e){this.wrapper=t,this.options=e,this.hooks=new Q(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return t.prototype.handleDOMEvents=function(){var t=this.options,e=t.bindToWrapper,o=t.disableMouse,n=this.wrapper,r=e?n:window;this.startClickRegister=new et(n,[{name:o?"touchstart":"mousedown",handler:this.start.bind(this)},{name:"click",handler:this.click.bind(this),capture:!0}]),this.moveEndRegister=new et(r,[{name:o?"touchmove":"mousemove",handler:this.move.bind(this)},{name:o?"touchend":"mouseup",handler:this.end.bind(this)},{name:o?"touchcancel":"mouseup",handler:this.end.bind(this)}])},t.prototype.beforeHandler=function(t){var e=this.options,o=e.preventDefault,n=e.stopPropagation,r=e.preventDefaultException;o&&!j(t.target,r)&&t.preventDefault(),n&&t.stopPropagation()},t.prototype.setInitiated=function(t){void 0===t&&(t=0),this.initiated=t},t.prototype.start=function(t){var e=X[t.type];if(!(this.initiated&&this.initiated!==e||(this.setInitiated(e),e===Z.Mouse&&t.button!==G.Left||this.hooks.trigger(this.hooks.eventTypes.beforeStart,t)))){this.beforeHandler(t);var o=t.touches?t.touches[0]:t;this.pointX=o.pageX,this.pointY=o.pageY,this.hooks.trigger(this.hooks.eventTypes.start,t)}},t.prototype.move=function(t){if(X[t.type]===this.initiated){this.beforeHandler(t);var e=t.touches?t.touches[0]:t,o=e.pageX-this.pointX,n=e.pageY-this.pointY;if(this.pointX=e.pageX,this.pointY=e.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:o,deltaY:n,e:t})){var r=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,l=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,c=this.pointX-r,h=this.pointY-l;(c>document.documentElement.clientWidth-this.options.momentumLimitDistance||c<this.options.momentumLimitDistance||h<this.options.momentumLimitDistance||h>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this.end(t)}}},t.prototype.end=function(t){X[t.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(t),this.hooks.trigger(this.hooks.eventTypes.end,t))},t.prototype.click=function(t){this.hooks.trigger(this.hooks.eventTypes.click,t)},t.prototype.destroy=function(){this.startClickRegister.destroy(),this.moveEndRegister.destroy(),this.hooks.destroy()},t}(),it={x:["translateX","px"],y:["translateY","px"]},nt=function(){function t(content){this.content=content,this.style=content.style,this.hooks=new Q(["beforeTranslate","translate"])}return t.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.content,null)[style.transform].split(")")[0].split(", ");return{x:+(t[12]||t[4]),y:+(t[13]||t[5])}},t.prototype.translate=function(t){var e=[];Object.keys(t).forEach(function(o){if(it[o]){var n=it[o][0];if(n){var r=it[o][1],l=t[o];e.push(n+"("+l+r+")")}}}),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,e,t),this.style[style.transform]=""+e.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,t)},t.prototype.destroy=function(){this.hooks.destroy()},t}(),st=function(){function t(content,t,e){this.content=content,this.translater=t,this.options=e,this.hooks=new Q(["move","end","beforeForceStop","forceStop","time","timeFunction"]),this.style=content.style}return t.prototype.translate=function(t){this.translater.translate(t)},t.prototype.setPending=function(t){this.pending=t},t.prototype.setForceStopped=function(t){this.forceStopped=t},t.prototype.destroy=function(){this.hooks.destroy(),H(this.timer)},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.startProbe=function(){var t=this,e=function(){var o=t.translater.getComputedPosition();t.hooks.trigger(t.hooks.eventTypes.move,o),t.pending?t.timer=F(e):t.hooks.trigger(t.hooks.eventTypes.end,o)};H(this.timer),this.timer=F(e)},e.prototype.transitionTime=function(time){void 0===time&&(time=0),this.style[style.transitionDuration]=time+"ms",this.hooks.trigger(this.hooks.eventTypes.time,time)},e.prototype.transitionTimingFunction=function(t){this.style[style.transitionTimingFunction]=t,this.hooks.trigger(this.hooks.eventTypes.timeFunction,t)},e.prototype.move=function(t,e,time,o,n){this.setPending(time>0&&(t.x!==e.x||t.y!==e.y)),this.transitionTimingFunction(o),this.transitionTime(time),this.translate(e),time&&this.options.probeType===J.Realtime&&this.startProbe(),time||(this._reflow=this.content.offsetHeight),time||n||(this.hooks.trigger(this.hooks.eventTypes.move,e),this.hooks.trigger(this.hooks.eventTypes.end,e))},e.prototype.stop=function(){if(this.pending){this.setPending(!1),H(this.timer);var t=this.translater.getComputedPosition(),e=t.x,o=t.y;if(this.transitionTime(),this.translate({x:e,y:o}),this.setForceStopped(!0),this.hooks.trigger(this.hooks.eventTypes.beforeForceStop,{x:e,y:o}))return;this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:e,y:o})}},e}(st),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.move=function(t,e,time,o,n){if(!time){if(this.translate(e),this._reflow=this.content.offsetHeight,n)return;return this.hooks.trigger(this.hooks.eventTypes.move,e),void this.hooks.trigger(this.hooks.eventTypes.end,e)}this.animate(t,e,time,o)},e.prototype.animate=function(t,e,o,n){var r=this,l=v(),c=l+o,h=function(){var d=v();if(d>=c)return r.translate(e),r.hooks.trigger(r.hooks.eventTypes.move,e),void r.hooks.trigger(r.hooks.eventTypes.end,e);var f=n(d=(d-l)/o),m={};Object.keys(e).forEach(function(o){var n=t[o],r=e[o];m[o]=(r-n)*f+n}),r.translate(m),r.pending&&(r.timer=F(h)),r.options.probeType===J.Realtime&&r.hooks.trigger(r.hooks.eventTypes.move,m)};this.setPending(!0),H(this.timer),h()},e.prototype.stop=function(){if(this.pending){this.setPending(!1),H(this.timer);var t=this.translater.getComputedPosition();if(this.setForceStopped(!0),this.hooks.trigger(this.hooks.eventTypes.beforeForceStop,t))return;this.hooks.trigger(this.hooks.eventTypes.forceStop,t)}},e}(st);var ct,ht,ut,pt,ft,mt=function(){function t(t,e){this.wrapper=t,this.options=e,this.hooks=new Q(["momentum","end"]),this.content=this.wrapper.children[0],this.currentPos=0,this.startPos=0}return t.prototype.start=function(){this.direction=W.Default,this.movingDirection=W.Default,this.dist=0},t.prototype.move=function(t){t=this.hasScroll?t:0,this.movingDirection=t>0?W.Negative:t<0?W.Positive:W.Default;var e=this.currentPos+t;return(e>this.minScrollPos||e<this.maxScrollPos)&&(e=e>this.minScrollPos&&this.options.bounces[0]||e<this.maxScrollPos&&this.options.bounces[1]?this.currentPos+t/3:e>this.minScrollPos?this.minScrollPos:this.maxScrollPos),e},t.prototype.end=function(t){var e={duration:0},o=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&t<this.options.momentumLimitTime&&o>this.options.momentumLimitDistance){var n=this.direction===W.Negative&&this.options.bounces[0]||this.direction===W.Positive&&this.options.bounces[1]?this.wrapperSize:0;e=this.hasScroll?this.momentum(this.currentPos,this.startPos,t,this.maxScrollPos,this.minScrollPos,n,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,e);return e},t.prototype.momentum=function(t,e,time,o,n,r,l){void 0===l&&(l=this.options);var c=t-e,h=Math.abs(c)/time,d=l.deceleration,f=l.swipeBounceTime,m={destination:t+h/d*(c<0?-1:1),duration:l.swipeTime,rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,m,c),m.destination<o?(m.destination=r?Math.max(o-r/4,o-r/m.rate*h):o,m.duration=f):m.destination>n&&(m.destination=r?Math.min(n+r/4,n+r/m.rate*h):n,m.duration=f),m.destination=Math.round(m.destination),m},t.prototype.updateDirection=function(){var t=Math.round(this.currentPos)-this.absStartPos;this.direction=t>0?W.Negative:t<0?W.Positive:W.Default},t.prototype.refresh=function(){var t=this.options.rect,e=t.size,o=t.position,n="static"===window.getComputedStyle(this.wrapper,null).position,r=Y(this.wrapper);this.wrapperSize=r[e];var l=Y(this.content);this.contentSize=l[e],this.relativeOffset=l[o],n&&(this.relativeOffset-=r[o]),this.minScrollPos=0,this.maxScrollPos=this.wrapperSize-this.contentSize,this.maxScrollPos<0&&(this.maxScrollPos-=this.relativeOffset,this.minScrollPos=-this.relativeOffset),this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,this.hasScroll||(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize),this.direction=0},t.prototype.updatePosition=function(t){this.currentPos=t},t.prototype.getCurrentPos=function(){return Math.round(this.currentPos)},t.prototype.checkInBoundary=function(){var t=this.adjustPosition(this.currentPos);return{position:t,inBoundary:t===this.getCurrentPos()}},t.prototype.adjustPosition=function(t){var e=Math.round(t);return!this.hasScroll||e>this.minScrollPos?e=this.minScrollPos:e<this.maxScrollPos&&(e=this.maxScrollPos),e},t.prototype.updateStartPos=function(){this.startPos=this.currentPos},t.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},t.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},t.prototype.getAbsDist=function(t){return this.dist+=t,Math.abs(this.dist)},t.prototype.destroy=function(){this.hooks.destroy()},t}();!function(t){t.Yes="yes",t.No="no"}(ft||(ft={}));var vt=((ct={})[ft.Yes]=function(t){return!0},ct[ft.No]=function(t){return t.preventDefault(),!1},ct),gt=((ht={})[K.Horizontal]=((ut={})[ft.Yes]=U.Horizontal,ut[ft.No]=U.Vertical,ut),ht[K.Vertical]=((pt={})[ft.Yes]=U.Vertical,pt[ft.No]=U.Horizontal,pt),ht),yt=function(){function t(t,e,o){this.directionLockThreshold=t,this.freeScroll=e,this.eventPassthrough=o,this.reset()}return t.prototype.reset=function(){this.directionLocked=K.Default},t.prototype.checkMovingDirection=function(t,e,o){return this.computeDirectionLock(t,e),this.handleEventPassthrough(o)},t.prototype.adjustDelta=function(t,e){return this.directionLocked===K.Horizontal?e=0:this.directionLocked===K.Vertical&&(t=0),{deltaX:t,deltaY:e}},t.prototype.computeDirectionLock=function(t,e){this.directionLocked!==K.Default||this.freeScroll||(t>e+this.directionLockThreshold?this.directionLocked=K.Horizontal:e>=t+this.directionLockThreshold?this.directionLocked=K.Vertical:this.directionLocked=K.None)},t.prototype.handleEventPassthrough=function(t){var e=gt[this.directionLocked];if(e){if(this.eventPassthrough===e[ft.Yes])return vt[ft.Yes](t);if(this.eventPassthrough===e[ft.No])return vt[ft.No](t)}return!1},t}(),bt=function(){function t(t,e,o,n,r){this.hooks=new Q(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd"]),this.scrollBehaviorX=t,this.scrollBehaviorY=e,this.actionsHandler=o,this.animater=n,this.options=r,this.directionLockAction=new yt(r.directionLockThreshold,r.freeScroll,r.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return t.prototype.bindActionsHandler=function(){var t=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,function(e){return!t.enabled||t.handleStart(e)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,function(e){var o=e.deltaX,n=e.deltaY,r=e.e;return!t.enabled||t.handleMove(o,n,r)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,function(e){return!t.enabled||t.handleEnd(e)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,function(e){t.enabled&&!e._constructed&&t.handleClick(e)})},t.prototype.handleStart=function(t){var e=v();this.moved=!1,this.startTime=e,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.stop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,t)},t.prototype.handleMove=function(t,e,o){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,o)){var n=this.scrollBehaviorX.getAbsDist(t),r=this.scrollBehaviorY.getAbsDist(e),l=v();if(this.checkMomentum(n,r,l))return!0;if(this.directionLockAction.checkMovingDirection(n,r,o))return this.actionsHandler.setInitiated(),!0;var c=this.directionLockAction.adjustDelta(t,e),h=this.scrollBehaviorX.move(c.deltaX),d=this.scrollBehaviorY.move(c.deltaY);this.moved||(this.moved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.animater.translate({x:h,y:d}),this.dispatchScroll(l)}},t.prototype.dispatchScroll=function(t){t-this.startTime>this.options.momentumLimitTime&&(this.startTime=t,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),this.options.probeType===J.Throttle&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),this.options.probeType>J.Throttle&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},t.prototype.checkMomentum=function(t,e,o){return o-this.endTime>this.options.momentumLimitTime&&e<this.options.momentumLimitDistance&&t<this.options.momentumLimitDistance},t.prototype.handleEnd=function(t){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,t)){var e=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,t,e))return!0;this.animater.translate(e),this.endTime=v();var o=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,e,o)}},t.prototype.handleClick=function(t){j(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation())},t.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},t.prototype.refresh=function(){this.endTime=0},t.prototype.destroy=function(){this.hooks.destroy()},t}();function kt(t,e,o,rect){var n=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime"].reduce(function(e,o){return e[o]=t[o],e},{});return n.scrollable=t[e],n.bounces=o,n.rect=rect,n}function Tt(source,t,e){e.forEach(function(e){var o,n;"string"==typeof e?o=n=e:(o=e.source,n=e.target),source.on(o,function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return t.trigger.apply(t,[n].concat(e))})})}var wt,St=function(){function t(t,e){this.hooks=new Q(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","refresh","touchEnd","end","flick","scrollCancel","momentum","scrollTo","ignoreDisMoveForSamePos","scrollToElement"]),this.wrapper=t,this.content=t.children[0],this.options=e;var o,n=this.options.bounce,r=n.left,l=void 0===r||r,c=n.right,h=void 0===c||c,d=n.top,f=void 0===d||d,m=n.bottom,v=void 0===m||m;this.scrollBehaviorX=new mt(t,kt(e,"scrollX",[l,h],{size:"width",position:"left"})),this.scrollBehaviorY=new mt(t,kt(e,"scrollY",[f,v],{size:"height",position:"top"})),this.translater=new nt(this.content),this.animater=function(element,t,e){var o=e.useTransition,n={};return Object.defineProperty(n,"probeType",{enumerable:!0,configurable:!1,get:function(){return e.probeType}}),o?new at(element,t,n):new lt(element,t,n)}(this.content,this.translater,this.options),this.actionsHandler=new ot(t,(o=this.options,["click","bindToWrapper","disableMouse","preventDefault","stopPropagation","preventDefaultException"].reduce(function(t,e){return t[e]=o[e],t},{}))),this.actions=new bt(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var y=this.resize.bind(this);this.resizeRegister=new et(window,[{name:"orientationchange",handler:y},{name:"resize",handler:y}]),this.transitionEndRegister=new et(this.content,[{name:style.transitionEnd,handler:this.transitionEnd.bind(this)}]),this.init()}return t.prototype.init=function(){var t=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,function(){t.togglePointerEvents(!0)})},t.prototype.bindTranslater=function(){var t=this,e=this.translater.hooks;e.on(e.eventTypes.beforeTranslate,function(e){t.options.translateZ&&e.push(t.options.translateZ)}),e.on(e.eventTypes.translate,function(e){t.updatePositions(e),t.togglePointerEvents(!1)})},t.prototype.bindAnimater=function(){var t=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,function(e){t.resetPosition(t.options.bounceTime)||(t.animater.setPending(!1),t.hooks.trigger(t.hooks.eventTypes.scrollEnd,e))}),Tt(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},t.prototype.bindActions=function(){var t=this,e=this.actions;Tt(e.hooks,this.hooks,[{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:e.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:e.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:e.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:e.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),e.hooks.on(e.hooks.eventTypes.end,function(o,n){return t.hooks.trigger(t.hooks.eventTypes.touchEnd,n),!!t.hooks.trigger(t.hooks.eventTypes.end,n)||(!e.moved&&t.checkClick(o)?(t.animater.setForceStopped(!1),t.hooks.trigger(t.hooks.eventTypes.scrollCancel),!0):(t.animater.setForceStopped(!1),!!t.resetPosition(t.options.bounceTime,N.bounce)||void 0))}),e.hooks.on(e.hooks.eventTypes.scrollEnd,function(e,o){var n=Math.abs(e.x-t.scrollBehaviorX.startPos),r=Math.abs(e.y-t.scrollBehaviorY.startPos);t.checkFlick(o,n,r)?t.hooks.trigger(t.hooks.eventTypes.flick):t.momentum(e,o)||t.hooks.trigger(t.hooks.eventTypes.scrollEnd,e)})},t.prototype.checkFlick=function(t,e,o){if(this.hooks.events.flick.length>1&&t<this.options.flickLimitTime&&e<this.options.flickLimitDistance&&o<this.options.flickLimitDistance)return!0},t.prototype.momentum=function(t,e){var meta={time:0,easing:N.swiper,newX:t.x,newY:t.y},o=this.scrollBehaviorX.end(e),n=this.scrollBehaviorY.end(e);if(meta.newX=k(o.destination)?meta.newX:o.destination,meta.newY=k(n.destination)?meta.newY:n.destination,meta.time=Math.max(o.duration,n.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,meta,this),meta.newX!==t.x||meta.newY!==t.y)return(meta.newX>this.scrollBehaviorX.minScrollPos||meta.newX<this.scrollBehaviorX.maxScrollPos||meta.newY>this.scrollBehaviorY.minScrollPos||meta.newY<this.scrollBehaviorY.maxScrollPos)&&(meta.easing=N.swipeBounce),this.scrollTo(meta.newX,meta.newY,meta.time,meta.easing),!0},t.prototype.checkClick=function(t){var e=this.animater.forceStopped;if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return!0;if(!e){var o=this.options.dblclick,n=!1;if(o&&this.lastClickTime){var r=o.delay,l=void 0===r?300:r;v()-this.lastClickTime<l&&(n=!0,function(t){L(t,"dblclick")}(t))}return this.options.tap&&function(t,e){var o=document.createEvent("Event");o.initEvent(e,!0,!0),o.pageX=t.pageX,o.pageY=t.pageY,t.target.dispatchEvent(o)}(t,this.options.tap),this.options.click&&!j(t.target,this.options.preventDefaultException)&&L(t),this.lastClickTime=n?null:v(),!0}return!1},t.prototype.resize=function(){var t=this;this.actions.enabled&&(m&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(function(){t.refresh()},this.options.resizePolling))},t.prototype.transitionEnd=function(t){t.target===this.content&&this.animater.pending&&(this.animater.transitionTime(),this.resetPosition(this.options.bounceTime,N.bounce)||(this.animater.setPending(!1),this.options.probeType!==J.Realtime&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos())))},t.prototype.togglePointerEvents=function(t){void 0===t&&(t=!0);for(var e=this.content.children.length?this.content.children:[this.content],o=t?"auto":"none",i=0;i<e.length;i++)e[i].style.pointerEvents=o},t.prototype.refresh=function(){this.scrollBehaviorX.refresh(),this.scrollBehaviorY.refresh(),this.actions.refresh(),this.wrapperOffset=_(this.wrapper)},t.prototype.scrollBy=function(t,e,time,o){void 0===time&&(time=0);var n=this.getCurrentPos(),r=n.x,l=n.y;o=o||N.bounce,t+=r,e+=l,this.scrollTo(t,e,time,o)},t.prototype.scrollTo=function(t,e,time,o,n,r){void 0===time&&(time=0),void 0===n&&(n={start:{},end:{}}),o=o||N.bounce;var c=this.options.useTransition?o.style:o.fn,h=this.getCurrentPos(),d=l({x:h.x,y:h.y},n.start),f=l({x:t,y:e},n.end);this.hooks.trigger(this.hooks.eventTypes.scrollTo,f),(this.hooks.trigger(this.hooks.eventTypes.ignoreDisMoveForSamePos)||d.x!==f.x||d.y!==f.y)&&this.animater.move(d,f,time,c,r)},t.prototype.scrollToElement=function(t,time,e,o,n){var r=P(t),l=_(r),c=function(t,e,o){return"number"==typeof t?t:t?Math.round(e/2-o/2):0};e=c(e,r.offsetWidth,this.wrapper.offsetWidth),o=c(o,r.offsetHeight,this.wrapper.offsetHeight);var h=function(t,e,o,n){return t-=e,t=n.adjustPosition(t-o)};l.left=h(l.left,this.wrapperOffset.left,e,this.scrollBehaviorX),l.top=h(l.top,this.wrapperOffset.top,o,this.scrollBehaviorY),this.hooks.trigger(this.hooks.eventTypes.scrollToElement,r,l)||this.scrollTo(l.left,l.top,time,n)},t.prototype.resetPosition=function(time,t){void 0===time&&(time=0),t=t||N.bounce;var e=this.scrollBehaviorX.checkInBoundary(),o=e.position,n=e.inBoundary,r=this.scrollBehaviorY.checkInBoundary(),l=r.position,c=r.inBoundary;return(!n||!c)&&(this.scrollTo(o,l,time,t),!0)},t.prototype.updatePositions=function(t){this.scrollBehaviorX.updatePosition(t.x),this.scrollBehaviorY.updatePosition(t.y)},t.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},t.prototype.enable=function(){this.actions.enabled=!0},t.prototype.disable=function(){H(this.animater.timer),this.actions.enabled=!1},t.prototype.destroy=function(){var t=this;["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"].forEach(function(e){return t[e].destroy()})},t}(),Pt=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];!function(t){t.Pre="pre",t.Post="post"}(wt||(wt={}));var Et=function(t){function e(e,o){var n=t.call(this,["refresh","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,r=P(e);return r?r.children[0]?(n.plugins={},n.options=(new tt).merge(o).process(),n.hooks=new Q(["init","refresh","enable","disable","destroy"]),n.init(r),n):(c("The wrapper need at least one child element to be scroller."),n):(c("Can not resolve the wrapper DOM."),n)}return r(e,t),e.use=function(t){var e=t.pluginName;return this.plugins.some(function(e){return t===e.ctor})?this:k(e)?(c("Plugin Class must specify plugin's name in static property by 'pluginName' field."),this):this.pluginsMap[e]?(c("This plugin has been registered, maybe you need change plugin's name"),this):(this.pluginsMap[e]=!0,this.plugins.push({name:e,enforce:t.enforce,ctor:t}),this)},e.prototype.init=function(t){this.wrapper=t,this.scroller=new St(t,this.options),this.eventBubbling(),this.handleAutoBlur(),this.innerRefresh(),this.scroller.scrollTo(this.options.startX,this.options.startY),this.enable(),this.proxy(Pt),this.applyPlugins()},e.prototype.applyPlugins=function(){var t=this,e=this.options;this.constructor.plugins.sort(function(a,b){var t,e=((t={})[wt.Pre]=-1,t[wt.Post]=1,t);return(a.enforce?e[a.enforce]:0)-(b.enforce?e[b.enforce]:0)}).forEach(function(o){var n=o.ctor;e[o.name]&&"function"==typeof n&&(t.plugins[o.name]=new n(t))})},e.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.scrollStart,function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()})},e.prototype.eventBubbling=function(){Tt(this.scroller.hooks,this,["beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick"])},e.prototype.innerRefresh=function(){this.scroller.refresh(),this.hooks.trigger(this.hooks.eventTypes.refresh),this.trigger(this.eventTypes.refresh)},e.prototype.proxy=function(t){var e=this;t.forEach(function(t){var o=t.key,n=t.sourceKey;!function(t,e,o){I.get=function(){return $(this,e)},I.set=function(t){V(this,e,t)},Object.defineProperty(t,o,I)}(e,n,o)})},e.prototype.refresh=function(){this.innerRefresh(),this.scroller.resetPosition()},e.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},e.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},e.prototype.destroy=function(){this.scroller.destroy(),this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy)},e.prototype.eventRegister=function(t){this.registerType(t)},e.version="2.0.0",e.plugins=[],e.pluginsMap={},e}(Q);e.a=Et},406:function(t,e,o){"use strict";var n="undefined"!=typeof window,r=n&&navigator.userAgent.toLowerCase();r&&/wechatdevtools/.test(r),r&&r.indexOf("android");function l(t,e,o){return t<e?e:t>o?o:t}var c=n&&document.createElement("div").style,h=function(){if(!n)return!1;var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==c[t[e]])return e;return!1}();function d(style){return!1===h?style:"standard"===h?"transitionEnd"===style?"transitionend":style:h+style.charAt(0).toUpperCase()+style.substr(1)}function f(t,e,o,n){t.addEventListener(e,o,{passive:!1,capture:!!n})}function m(t,e,o,n){t.removeEventListener(e,o,{capture:!!n})}h&&"standard"!==h&&h.toLowerCase(),d("transform"),d("transition"),n&&d("perspective"),d("transitionTimingFunction"),d("transitionDuration"),d("transitionDelay"),d("transformOrigin"),d("transitionEnd");var v=n&&window;function y(){}n&&(v.requestAnimationFrame||v.webkitRequestAnimationFrame||v.mozRequestAnimationFrame||v.oRequestAnimationFrame),n&&(v.cancelAnimationFrame||v.webkitCancelAnimationFrame||v.mozCancelAnimationFrame||v.oCancelAnimationFrame);var k,T,w=function(){function t(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return t.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},t.prototype.addDOMEvents=function(){this.handleDOMEvents(f)},t.prototype.removeDOMEvents=function(){this.handleDOMEvents(m)},t.prototype.handleDOMEvents=function(t){var e=this,o=this.wrapper;this.events.forEach(function(n){t(o,n.name,e,!!n.capture)})},t.prototype.handleEvent=function(t){var e=t.type;this.events.some(function(o){return o.name===e&&(o.handler(t),!0)})},t}();!function(t){t[t.Positive=1]="Positive",t[t.Negative=-1]="Negative",t[t.Default=0]="Default"}(k||(k={})),function(t){t.Pre="pre",t.Post="post"}(T||(T={}));var S=function(){function t(t){this.scroll=t,this.wheelStart=!1,t.registerType(["mousewheelMove","mousewheelStart","mousewheelEnd"]),this.mouseWheelOpt=t.options.mouseWheel,this.deltaCache=[],this.registorEvent(),this.hooksFn=[],this.registorHooks(t.hooks,"destroy",this.destroy)}return t.prototype.destroy=function(){this.eventRegistor.destroy(),window.clearTimeout(this.wheelEndTimer),window.clearTimeout(this.wheelMoveTimer),this.hooksFn.forEach(function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)})},t.prototype.registorEvent=function(){this.eventRegistor=new w(this.scroll.scroller.wrapper,[{name:"wheel",handler:this.wheelHandler.bind(this)},{name:"mousewheel",handler:this.wheelHandler.bind(this)},{name:"DOMMouseScroll",handler:this.wheelHandler.bind(this)}])},t.prototype.wheelHandler=function(t){this.beforeHandler(t),this.wheelStart||(this.wheelStartHandler(t),this.wheelStart=!0);var e=this.getWheelDelta(t);this.wheelMove(e),this.wheelStopDetactor(t,e)},t.prototype.wheelStartHandler=function(t){this.deltaCache=[],this.scroll.trigger(this.scroll.eventTypes.mousewheelStart)},t.prototype.wheelStopDetactor=function(t,e){var o=this;window.clearTimeout(this.wheelEndTimer);var n=this.mouseWheelOpt.throttle||400;this.wheelEndTimer=window.setTimeout(function(){o.wheelStart=!1,window.clearTimeout(o.wheelMoveTimer),o.wheelMoveTimer=0,o.scroll.trigger(o.scroll.eventTypes.mousewheelEnd,e)},n)},t.prototype.getWheelDelta=function(t){var e=this.mouseWheelOpt,o=e.speed,n=void 0===o?20:o,r=e.invert,l=0,c=0,h=void 0!==r&&r?k.Negative:k.Positive;switch(!0){case"deltaX"in t:1===t.deltaMode?(l=-t.deltaX*n,c=-t.deltaY*n):(l=-t.deltaX,c=-t.deltaY);break;case"wheelDeltaX"in t:l=t.wheelDeltaX/120*n,c=t.wheelDeltaY/120*n;break;case"wheelDelta"in t:l=c=t.wheelDelta/120*n;break;case"detail"in t:l=c=-t.detail/3*n}return l*=h,c*=h,this.scroll.scroller.scrollBehaviorY.hasScroll||(l=c,c=0),this.scroll.scroller.scrollBehaviorX.hasScroll||(l=0),{x:l,y:c,directionX:l>0?k.Negative:l<0?k.Positive:0,directionY:c>0?k.Negative:c<0?k.Positive:0}},t.prototype.beforeHandler=function(t){var e=this.scroll.options,o=e.preventDefault,n=e.stopPropagation,r=e.preventDefaultException;o&&!function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1}(t.target,r)&&t.preventDefault(),n&&t.stopPropagation()},t.prototype.wheelMove=function(t){var e=this;if(this.mouseWheelOpt.debounce&&this.wheelMoveTimer)this.deltaCache.push(t);else{var o=this.deltaCache.reduce(function(t,e){return{x:t.x+e.x,y:t.y+e.y}},{x:0,y:0});this.deltaCache=[];var n=this.scroll.x+Math.round(t.x)+o.x,r=this.scroll.y+Math.round(t.y)+o.y,c=this.scroll.scroller.scrollBehaviorX,h=this.scroll.scroller.scrollBehaviorY;if(n=l(n,c.maxScrollPos,c.minScrollPos),r=l(r,h.maxScrollPos,h.minScrollPos),!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove,{x:n,y:r})){var d=this.getEaseTime();n===this.scroll.x&&r===this.scroll.y||this.scroll.scrollTo(n,r,d)}this.mouseWheelOpt.debounce&&(this.wheelMoveTimer=window.setTimeout(function(){e.wheelMoveTimer=0},this.mouseWheelOpt.debounce))}},t.prototype.registorHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},t.prototype.getEaseTime=function(){var t,e=this.mouseWheelOpt.easeTime||300;return e<100&&(t="easeTime should be greater than 100.\n      If mouseWheel easeTime is too small, scrollEnd will be triggered many times.",console.error("[BScroll warn]: "+t)),e},t.pluginName="mouseWheel",t.enforce=T.Pre,t}();e.a=S}}]);